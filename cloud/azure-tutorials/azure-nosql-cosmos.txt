Microsoft Certified: Azure Developer Associate

Work with NoSQL Data in Azure Cosmos DB

    1. Module 1: Create an Azure Cosmos DB Database Built to Scale
        a. Exercise - Create an Azure Cosmos DB Account in the Azure Portal
            - Azure Cosmos DB - Azure resource that acts as an organizational entity for your databases
                - 1 Azure Cosmos DB - several supported data models
                - APIS - SQL (Document Database), Gremlin (Graph), MongoDB (Document), Azure Table, and Cassandra - each requires a separate account
                - Graph/Tables or Migration - create additional accounts with relevant data models
            - Create A Resource -> Databases -> Azure Cosmos DB -> Configure
        b. Request Unit
            - Request Unit - measurement of throughput, measured per second, request unit / second, must reserve the number of RU/S in advance to handle estimated load
                - Basics - 1 RU is equal to the approximate cost of performing a single GET requests on a 1KB document
                - # of RUs depends on document size, properties of document, operation being performed, and items such as consistency and indexing policy
                - Request Unit Charge - multiple amount of consumed RUs of each operation by the estimate number of times each operation will be executed per second
                - Provision in increments of 100 RUs per second
                - Important Factors - item size, item indexing, item property count, indexed properties, data consistency, query patterns, script usage
                - Exceeding Throughput Limit - requests become rate limited after hitting provisioned throughput
            - Provisioning Throughput - Provision throughput for your containers to perform writes, reads, updates, and deletes
            - Scale - estimate throughput needs by estimates number of operations youll have to support at different times
        c. Choose a Partition Key in Azure Cosmos DB
            - Partition Strategy - scale out, horizontal scaling, enables you to add more partitions to teh database as you neede them
            - Partition Key - value set when creating a container which organizes your data into logical divisions
                - Hot Partition - single partition that receives many more requests than others, which can create a throughput bottleneck
                - Storage space for the data associated with each partition key cannot exceed 10 GB
            - Best Practices
                - Dont be afraid of partition key that has a large number of values
                - Review top three to five queries you plan on using, value most frequently included in the WHERE clause is a good candidate for the partition key
                - For write-heavy workflows, youll need to understand the transaction needs of your workload, because partition key is the scope of multi-document transactions
        d. Exercise - Create a Database and Container in Azure Cosmos DB
            - Create Database and Container
                - Cosmos DB -> Data Explorer -> New Container -> Configure
    
    2. Module 2: Choose the Appropriate API for Azure Cosmos DB Storage
        a. Idenitfy the Technology Options
            - Consistency Levels - strong, bounded staleness, session, consistent prefix, and eventual
            - Core SQL API
                - default api, provides you with a view of your data that resembles a traditional NoSQL document store
                - Query JSON documents with a SQL-like language - SELECT, FROM, WHERE, BETWEEN, COUNT, SUM, MIN, MAX, ORDER BY
                - Uses JavaScript's type system, expression evaluation and function invocation
            - MongoDB API
                - MongoDB Wire Protocol using existing client SDKs, drivers, and tools as if you are running an actual MongoDB database
            - Cassanda API
                - Query data using the Cassandra Query Language - CREATE KEYSPACE, CREATE TABLE, ALTER TABLE, USE, INSERT, SELECT, UPDATE, BATCH, DELETE
                - Data will appear to be a partitioned row store
            - Azure Table API
                - Support for applications written for Azure Table Storage that need premium capabilities like global distribution, high availability, scalable throughput
                - Querying is accomplished using OData and LINQ queries, and original REST API for GET operations
            - Gremlin Graph API
                - Graph based view of data
                - Datat is either a vertex (which is an individua item in the database) or an edge (which is a relationship betwen items in the database)
        b. Analyze the Decision Criteria
            - New Project - Core SQL
            - Existing MongoDB, Cassandra, Azure Table or Gremlin Data - Corresponding API
            - Analysis of Relationships Between Data - Gremlin
            - Everything Else - Core SQL
        c. Use Core SQL to Store a Product Catalog
            - Reasons - Semi-structured data, needed filtering functionality, schema has to be flexible
        d. Use Gremlin Graph API as a Recommendation Engine
            - Reasons - Data store needs to be able to assign weight values to the relationships between products (e.g. number of time relationship occurs)
        e. Use MongoDB to Import Historical Order Data
            - Reasons - Semi-structured data that needs the flexibility to store many different data formats
        f. Use Cassandra for Web Analytics
            - Reasons - Previous experience working with Cassandra
        g. Use Azure Table to Store IoT Data
            - Reasons - Moving an existing huge database with low throughput to CosmosDB
        