Database Systems

1. 01/06/2025 - Introduction
    - Topics
        - Basic Concepts
        - Entity Relationship Model
        - Relational Model
        - Relational Algebra
        - SQL Language
        - Missing Information and Views
        - Database Design
        - Query Optimization
        - Transaction Management
        - Non-Relational DBs and DB Security
    - Definitions
        - Data - facts or values obtained from observation or measurement
        - Information - interpretation of facts
        - Database (DB) - a collection of related persistent data used by an enterprise
            - Schema - description of the data (intension), changes infrequently
            - Instance - collection of data stored in the database at a particular moment in time (extension), changes frequently
        - Database System
            - Metadata - data about other data
            - Metalanguage - language used to describe another language 
            - Metasearch - search engine making use of other search engines
            - Software - database management system, utilities (loading, reorganizing, backup, analyzing), tools (design, development)
            - Hardware - secondary storage, memory, processors, DB machine
            - Users - users of database system
    - How to Manage Persistent Data
        - File Processsing - each application mananges its own information
            - Issues - redundancy, inconsistency
        - Database - data are integrated and shared
            - Benefits - reduction of redundancy, efforts, consistency, sharing, independence (change strucutre without affecting program) and abstraction, views, security restrictions, integrity constraints, data deduction, data retrieval
    - Data Independence - ability to modify a schema at one level without affecting the schema at the next higher level
        - Three Schema Architecture (ANSI/SPARC)
            - Internal Level - how data is stored in the storage medium
            - Conceptual Level - describes the logical structure of the entire DB
            - External Level - describes the part of the DB that a particular user group is interested in
        - Physical Data Independence - change internal schema without affecting conceptual schema or external schema
        - Logical - change conceptual schema without affecting external schemas
    - Data Model - a set of concepts for describing data types, relationships, constraints, semantics, and behaviors
        - Conceptual - object based logical models, describe data in terms of objects and interrelationships
            - Close to the way many users perceive data
            - Conceptual and external schemas
            - Examples - entity relationship model, object oriented model, semantic model, functional model
        - Implementation - record based logical model
            - Represent data using record structure
            - Conceptual and external schemas
            - Relational model, network model, hierarchical model
        - Physical Data Model - how data is stored in the computer
            - Internal schemas
            - Unifying model and frame memory
    - Database Lanaguage (DBL)
        - What - schema specifications
            - View Definition Lanaguage - external
            - Data Definition Language - conceptual
            - Storage Definition Language - internal schema
        - What - data manipulation
            - Data Manipulational Language (retrieve, insert, delete, modify, update)
        - What - data control
        - Data Control Language (privilege, transaction)
        - Uses of Database Language
            - Stand Alone - interactive, unplanned, data manipulation language (DML)
            - Embedded - embeded in host language, planned request, data sublanguage (DSL)
        - Unified Language
            - Database Programming Language - add DBL features to programming language
            - 4th Generation Language - add programming language to DBL
    - Other Interfaces
        - Call Level ODBC
        - Call Level JDBC
        - Menu, Form, Graphic, Natural Language, Voice, Combination
    - Database Users
        - Application Programmers, Casual, Parametric, Sophisticated, Stand Alone
        - Casual - interactive queries
        - Parametric - canned transactions
        - Sophisticated - full DBL
        - Stand Alone - menu/graphic interfaces
        - Database Administrator
            - Logical Design of Conceptual Schema
            - Internal Schema of Physical Design
            - External Schema for Users
            - Security Checks
            - DBS Maintenance (backup, recovery, performance)

2. 01/13/2025
    -  Database Management System Components
        - Examples
            - User - Database Administrator
                - Data Definition Language, Data Definition Language Compiler -> Produce System Catalog/Data Dictionary/Metadata
                - Privileged Commands -> Runtime Database Processors -> Create User, Grant Privileges, Manage the Database
            - User - Casual
                - Interactive Query -> Query Compiler (Validate Semantics and Syntax) -> Query Optimizer -> Runtime Database Processor -> Do A Thing
            - User - Application Programmers
               - Application Programs -> Precompiler (Host and Database Language) -> Host Langauge Compiler -> Compiled/Canned Transactions -> Runtime Database Processor -> Do A Thing
        - Concurrency Control
        - Backup/Recovery
        - Stored Data Manager (Buffer/Cache)
    - Main DBMS Functionality
        - Define a particular database
        - Construct or load initial content
        - Manipulate the database (retrieve or modify)
        - Processing and sharing by a set of concurrent users
        - Enforcing security restrictions
        - Presenting and visualizing data
        - Maintaining the database
        - Backing up and recovering the database
    - Database Architecture
        - Centralized Architecture - everything runs on a physical machine
            - Components - operating system, database management system, compilers, application programs, terminal, text editors, display monitors
            - Disadvantage - a lot of requirements for running this machine
        - Client/Server
            - Components - Server runs DBMS, client runs application
            - Thick Client - (Display and Applicaiton), Server - DBMS
                - Advantage - running application on client side, separate to enhance security
                - Disadvantage - if application needs a lot of data, communication cost is high
            - Thin Client - (Display), Server - Application and DBMS 
                - Advantage - quickly obtain data needed for the application
                - Disadvantage - security
            - Three Tier Architecture
                - Interface (Presentation) - Client
                - Application (Business Logic) - Web or Application Server
                - Data Access (Database Service) - Database Server
    - Database Classification
        - Models
            - Relational (Oracle)
            - Object Oriented (GemStone)
            - Network (IDMS)
            - Hierarchical (IMS)
            - Object Relational (Oracle)
            - XML (Lore)
        - Users
            - Single User (Advanced File Systems)
            - Multi-User
        - Sites
            - Centralized - all database in one place
            - Distributed - database in multiple locations
                - Homogenous - each site runs the same type of DBMS
                - Heterogenous - each site may use a different type of DBMS and DB
        - Purpose
            - General Purpose - any type of application
            - Special Purpose - embedded
    - Advanced Database System
        - Active DB - database will send results based on conditions
        - Distributed DB - manage database from multiple sites
        - Parallel DB - parallel processing for database system
        - Deductive DB - how to derive information from new data
        - Fuzzy DB - how to manage less precise data
        - Data Warehousing - centralize data from multiple databases for analysis
        - Data Mining - learn about your data and make discoveries
        - Spatial DB - queries or data related to location or space
        - Temporal DB - extend data with a time dimension
        - Multimedia DB - store multiple types of files e.g. iamges, videos, etc.
        - Mobile DB - data saved in mobile devices
        - Web DB - application, cookies, local, session
        - Real Time - must process data within a particular time constraint
        - Bioinformatics - genetics, large amount of data
        - Transaction Workflows
        - Database Security
        - Big Data
        - NoSQL Databases
    - Entity Relationship Models
        - Objective - ER, E-R, or E/R
            - Goal - used to model the real world and aligns with how many users perceive data
            - Goal - model the world during db design
        - Database Design Procedure
            - Requirements Collection and Analysis
                - Data Requirements - Data
                    - (ER) Conceptual Design - translate informal requirements to model what data should look like producing high level model and diagram (Enterprise Schema)
                    - Logical Design - convert conceptual design to model(s) for a specific database management system producing logical schema
                    - Physical Design - convert logical design to internal schema aware of storage producing an internal schema
                - Functional Requirements - Operations
                    - Functional Analysis - produce high level transaction specification
                    - Application Program Design - design how to enable transactions on a particular DBMS
                    - Transaction Implementation
        - Key Concepts
            - Entity - on object that exists and is distinguishable from other objects
                - Types
                    - Physical Entity - employee or car
                    - Conceptual Entity - department, project, holiday
                - Entity Set - a set of entities of the same type e.g. all employees or all projects, (RECTANGLE)
                - Entity Type - a set of characteristics that defines an entity set
                - Attribute - property of an entity you want expressely represented in the model - (OVAL)
                    - Composite - an attribute derived from a set of simple attributes concatenated together
                    - Simple - lowest level of singular attribute
                - Valued
                    - Single Valued - an attribute has a single value (SINGLE OVAL)
                    - Mulitvalued - an attribute can have multiple values (DOUBLE OVAL)
                        - Benefit - can store an extensible number of values
                        - Con - how do you distinguish between the values in meaningful ways?
                    - NULL
                - ...
                    - Base - value is value e.g. salary
                    - Derived - value can be obtained through analysis of other attributes e.g. age from birthdate
            - Relationship - an association among n entities
                - N - degree of the relationship
                    - N = 2, binary, employee works for a department
                    - N = 3, ternary, a supplier makes a particular part for a particular project
                    - N > 3, very rarely used
                - Relationship Set - a set of relationships of the same type
                - Relationship Type - a set of characteristics that define a relationship set (DIAMOND)
                - Role Name - signifies the role that an entity type plays in a relationship (normally omitted)
                - Single Link = Optional, Double Link = Required
            - Constraint

3. 01/21/2025
    - Relationship
        - Recursive Relationship Type - the same entity type participates more than once in a relationship type in different roles (role name must be used)
            - Example - Supervisor supervises supervisee, supervisee themselves supervisor others and supervisors themselvs are supervised
            - Role - on link indicate role. line from employee to supervision, 2, i.e. employee is subordinate to supervisor, or 1, employee supervises another
        - Attributes of Relationship
            - Hours, how long does an employee work on particular projects?
    - Constraints
        - Domain Constraint - the values of an attribute must come from its domain i.e. the set of allowed values
            - This is not represented in the ER diagram
            - Example - name is string of characters no greater than 64
        - Null - a special value representing not applicable, unknown, etc.
        - Uniqueness or Key Constraint
            - Key - one or more attributes that can uniquely identify an entity from an entity set
        - Mapping Constraints (Cardinality Ratio) - specify the # of relationship from a relationship type that an entity can participate in
            - Binary - 1:1, employee manages at most one department
            - One to Many - 1:M or M:1, many employees work for one department or one department has many employees
            - Diagram, place number of the line connecting the entity and the relationship type
            - Many to Many
            - Many to Many to Many
            - 1 to 1 to Many - one supplier builds a particular part for many projects
        - Participation Contraints
            - Total Participation - every entity from one entity type must have a relationship with at least one entity from another entity type
            - Partial Participation - otherwise
            - Note - you should not have double link on both sides, as it is necessary to create one entity first to establish relationship
    - Example - 1:00 - Review When Doing Homework #1
    - Enhanced Entity Relationship Concepts
        - Weak Entity Type - does not have any key of its own
            - Example - Dependent Entity of Employee: name, sex, birth, relationship
            - Identifying Relationship - Double Diamond of owner to weak entity type
            - How do we identify entities of weak entity type?
                - A weak entity can be uniquely identified by owner key + partial key
        - Specialization - process of defining a set of subclasses (subtypes) of an entity type
            - Example 
                - Employee Entity, Entity Set - name, ssn, birthdate, address
                - Secretary Entity, Entity Set += gwam
                - Engineer Entity, Entity Set += type
                - Salaried Entity, Entity Set += Salary
            - Notation = U from subtype to disjoint (d) on line showing relationship, or u from subtype to overlapping (o) on line showing relationship
                - Disjoint, no entity belongs to multiple subtypes
            - Note - an entity in a sub class inherits all the attributes of its corresponding entity in the superclass
            - Note - an entity in a sub class inherits all the relationships in which the corresponding entity in the superclass participates
        - Generalization - the process of defining a generalized entity type from the given entity types i.e. reverse of specialization
            - Example - you have Secretary, Technician, Engineer, and Manager entity types, they share common attributes, a generic entity can be derived for the shared common attributes
        - Condition Defined Specialization - define entity by value of an attribute to derive sub class
        - User Defined Specialization - each entity of a subclass is individually specified by the user
        - Disjointness Conatraint - subclasses of a specialization are disjoint
        - Completeness Constraint
            - Total Specialization - every entity in superclass participates in a specialization
            - Partial Specialization - not every entity in superclass participates in a specialization
        - Specialization Lattice
            - Entity to Sub Entity to Sub Entity, etc...
        - Specialization Hierarchy

4. 01/27/2025
    - Enhanced Entity Relationship Concepts
        - Category (UNION) - a subset of the union of multiple superclasses (super class is independent)
            - Notation (u), single line is partial, double line is total
        - Aggregation - an abstraction through which relationships are treated as higher level entities
            - Example (REVIEW)
                - Entites - employee, project
                - Relationships - many employees work on many projects
                - Machinery is based on which employees work on which projects
    - Relational Model
        - Reality - no commerical database management system uses entity relational model to implement
        - Relational DBMS - Oracle, DB2, Sybase, SQL Server, Informix, INgres, Paradox
        - Features
            - Advantages - simple (everything is tables), mathematical base
            - Concepts
                - Relation (Table)
                    - Domain - a set of atomic values
                        - Atomic - indivisible, conventional relational DB
                        - Composite - has components, nested relational DB and object-relational DB
                        - Specify - name and a data type
                    - Relational Schema - table heading made up of a name and a set of attributes
                    - Attribute - the name of a role played by a domain in the relational schema
                    - Relation Instance - table heading (relational schema) and a set of n-tuples (table rows)
                        - Subset of the cartesian production (all possible combinations): D1 x D2 x ... x Dn where Di = Domain(Ai) union null
                        - Ordering of tuples is unimportant
                        - Ordering of attributes is unimportant as long as the correspondence between attributes and their values is maintained
                        - There should be no duplicate tuples
                    - Relational Cardinality - how many rows in the table
                - Integrity Constraints - restrictions of values
                    - Domain - each value must come from the relevant domain
                    - NOT-NULL - NULL value is not allowed for an attribute if so specified
                    - Key Constraintt
                        - Superkey - a set of one or more attributes which can uniquely identify a tuple in any relation instance of the given relation schema
                        - Candidate Key - a super key which contains no extraneous attributes i.e. no proper subset is a SK
                            - E.g. if you have student number and name as a super key, name is technically extraneous
                            - A relation may have several candidate keys, once specified uniques is enforced for them
                         - Primary Key - a candidate key that is chosen by the DB designer as the prinsiple means of identifying tuples in a relation
                            - Only one primary key for a relation, attribute is underlined in the schema
                            - Entity Integrity Constraint - NULL is not allowed for any attribute in the Primary Key (USE THIS ON TEST)
                        - Primary Key -> Candidate Key -> Super Key
                        - Super Key != Candidate Key != Primary key
                    - Referential Integrity Constraint - ensure that a value that appears in one relation R for a given set G of attributes, must also appear for a Candidate Key in another relation S
                        - Foreign Key - each value for a Foreign Key can be either in the referenced relation or NULL, the referenced set of attributes do not have to be a Candidate Key
                    - Functional Dependency - X (a subset of attributes in the table) functionally determines Y (another subset of attributes in the table)
                        - Birthdate (X) determines age (Y), two instances of the same birthdate should produce the same age value, however two instances of age does not determine the same birthdate
                        - Student Number (x) determines Name, Birthdate, and Age (Y). Primary Key can determine any attribute
                    - Semantic Integrity Constraints
                        - User defined assertions e.g. age must be greater than 0 and less than 150
                - Relational Database
                    - Relational DB Schema - a set of relation schemas and a set of integriy constraints
                    - Relational DB Instance - a set of relation instances that satisfy all the integrity constraints
                - Operations

5. 02/03/2025
    - Relational Algebra
        - Key Database Operations
            - Retrieval
            - Insert
            - Delete
            - Update
        - Database Language
            - Abstract
                - Relational Algebra
                - Tuple Relational Calculus
                - Domain Relational Calculus
            - Commericial
                - SQL - Structured Query Language (All Above)
                - QBE (Domain Relational Calculus)
                - QUEL (Tuple Relational Calculus)
                - ISBL (Relational Algebra)
        - Algebra
            - Two Parts
                - Non empty set called domain
                - one or more operations on the domain
            - Example - Arithmetic Algebra
                - Domain - set of real numbers
                - Operation - additiona, substraction, division, multiplication
        - Relational Algebra
            - Property
                - Closure Property - each operation operates on one or more relations and returns one relation
            - Domain - set of relations or tables
            - Operations
                - Unary (One Table)
                    - Select - sigma - select tuples satisfying F (conditions) from R (relation)
                        - Example: Find the tuples for all projects controlled by department 4
                            - sigma where department = 4 from PROJECT relation
                            - Heading of result table is the same as the operand table
                        - Example: Find the tuples for all projects controlled by department 1 or located at Houston
                            - sigma
                                - where department = 1 OR location = Huston ffrom PROJECT relation
                        - Predicates - equal, not equal, less than, less than or equal to, greater than, greater than or equal to
                        - Logical Connectives - AND, OR, NOT
                    - Project - pi - project R (relation) over attributes in L (target attribute list) and REMOVE DUPLICATES tuples if any
                        - Example: List each employee's last name, first name, and salary
                            - pi list target attribute L [lname, fname, salary] from EMPLOYEE relation
                        - Example: Find the locations of all departments
                            - pi list locations from DEPT_LOCATIONS relation
                        - Example: Retrieve the number and location of each project controlled by department 4 (NESTED)
                            - pi list number and location FROM sigma where department = 4 FROM PROJECT relation
                            - Intermediate Relation - sigma where department = 3 FROM PROJECT relation
                - General Rename Operation
                    - Table name "S" or column names "B1", "B2", "BN"
                        - Note: required if both tables are the same name
                - Join
                    - Cartesian Product - ALL possible combination of tuples from relation R and relation S
                        - Name SNO      Grade SNO
                            X    4          A   4
                                            B   3
                        - Result
                            Name  SNO  Grade SNO
                            x     4    A     4
                            x     4    B     3
                    - Join
                        - Example: List all students name, sno, and grade i.e. sigma where student.SNO = grade.SNO (STUDENT x GRADE)
                        - This does not automatically eliminate duplicate columns, those have to be removed using a project operation e.g. you have SNO from both STUDENT relation and GRADE relation
                    - Natural Join
                        - Steps
                            - Perform Cartesian Product RxS
                            - Perform a Select to force equality on those attributes that appear in both relation R and relation S
                            - Remove Duplicate Columns
                        - Questions
                            - If you have multiple pairs of attributes? Then you need to make each pair equal to each other i.e. R.A = S.A AND R.B = S.B
                            - If you have no common attributes? Then the result is Cartesian Product
                - Set
                    - Union RuS
                        - Conditions R, S must be union compatible i.e. R, S have the same degree and domain of the ith attribute of R = domain of the ith attribute of S
                            - Degree = same number of columns
                            - Domain of ith attribute i.e. 1st column is integer for both tables
                        - Goal - get all tuples from both relations
                        - Example: Find all students and instructors
                    - Intersection RnS
                        - Condition R,S must be union compatible
                        - Goal - get all tuples that are in both relations
                    - Difference - R-S
                        - Condition R,S must be union compatible
                        - Goal - get all from R relation that are NOT in relation S
                    - Division R/S
                        - Example: find each student who has taken all courses required for B.Sc. Degree
                        - Goal - a tuple t is in R/S if for every tuple u in S the concatenation tu of t and u is in R
                        - Dividend - R
                        - Divisor - S
                        - Quotient - R/S

6. 02/10/2025
    - Relational Algebra
        - Basic Operations
            - Complete - a query is relationally complete if it can express any query expressible by select, project, cartesian product, union, and intersection
            - Work Horse - select, project, and join
        - Extended Operations
            - Generalized Project - allow arithmetic expressions to be used in target L
                - Example: List the SSN and the new salary of each employee, where the new salary = salary * 1.2
            - Aggregate Function Operation - grouping attributes, operand attributes, aggregate functions
                - SUM, AVG, MAX, MIN, COUNT, SUMD, AVGD
                - Input - Table
                - Parameter A - grouping attributes
                - Parameter B - operand attributes
                - Parameter F - aggregation function
            - Example - find the number of employees and the average salary for each dept
                - SELECT DISTINCT COUNT(ssn), department, AVG salary FROM employees group by dept
            - OUTER JOIN - extended natural join or general join
                - NATURAL JOIN - match from both tables
                - Left Outer Natural Join - take all tuples in R that do not match any tuple in S, pad them with NULL values for all other attributes in S, and add them to the result of the natural join of R x S
                - Right Outer Natural Join - take all tuples in S that do not match any tuple in R, pad them with null values for all other attributes in R, and add them to the result of the natural join of R x S
                -  Full Outer Join - take all tuples in R that do not match any tuple in S, and all tuples in S that do not match any tuple in R, pad them with null values for all other attributes in S and R respectively and add them to the result of the natural join of R x S
        - Other Operations - semijoin, semidifference, not tested
        - Updates
            - Insertion - union student and new tuple to insert the tuple
            - Deletion - difference of student and condition to remove tuples and then create neww result
            - Update - delete and then insert
        - Other Abstract Languages
            - Tuple Relational Calculus -  
            - Domain Relational Calculus - 
    - Structured Query Language
        - History - 1:00:00
        - Features - relationally complete, non-procedural, declarative
        - Overview - Integrated
            - Data Definition Language DDL
                - Create - schema, table, view, domain, index, etc
                - Alter - table, domain
                - Drop - schema, table, view, domain, index, etc
                - Grant - privileges
            - Data Manipulation Language DML
                - Select, Insert, Update, Delete
                - Transaction Commit - begin, commit, rollback
            - Usage Patterns
                - Interactively
                - Embedded
        - Detailed Information
            - DDL
                - CREATE SCHEMA [DB SCHEMA NAME] AUTHORIZATION [USER ID]
                - CREATE TABLE [TABLE NAME] {FIELD, DATA TYPE, CONSTRAINT}xN PRIMARY KEY [FIELD], FOREIGN KEY[FIELD]
            - DML
                - Query - SELECT ... FROM ... WHERE, duplicates not removed
                    - By default duplicates are not removed
                    