Title: Computer Networking: A Top-Down Approach
Authors: Jim Kurose and Keith Ross

Summarization of Content

Chapter 1 - Computer Networks and the Internet
    a. What is the Internet?
        - Nuts and Bolts
            - End Systems
            - Communication Links and Packet Switches - Connect End Systems
            - Transmission Rate - Bits/Second
            - Packets - Segments of Data with Header Bytes
            - Routers and Link-Layer Switches - Connect End Systems
            - Route or Path - Sequence of Communication Links and Packet Switches Traversed by a Packet
            - Internet Service Providers - Provide End Systems Access to Internet
            - Transmission Control Protocol and Internet Protocol
            - Internet Standards - Request For Comments RFC
        - A Service Description
            - Internet is infrastructure that provides services to applications
            - Socket Interface - How program on end system asks internet to deliver data to program on another end system
        - What is a Protocol?
            - Defines the format and the order of messages exchanged between two or more communicating entities, as well as the actions taken on the transmission and/or receipt of a message or other event
    b. The Network Edge
            - Hosts - Clients or Servers
            - Access Networks
                - Network that physically connects an end system to the first router on a
                path to any other distance end system
            - Home Access - Digital Subscriber Line DSL
                - Obtained from telephone company
                - Telephone line to Digital Subscriber Line Access Multiplexer DSLAM
                - Telephone Line Frequencies - High-Speed Downstream 50 kHz to 1MHz
                - Telephone Line Frequencies - Medium-Speed Upstream Channel 4kHz to 50 kHz
                - Telephone Line Frequencies - Ordinary Two-Way Channel 0 to 4kHz
            - Home Access - Cable
                - Cabel Modem -> Coaxial Cable -> Fiber Node -> Fiber Cable -> Cable Modem Termination System
            - Home Access - Fiber to the Home
                - Optical Network Terminator -> Customer Fiber -> CO Fiber -> Optical Line Terminator
            - Home Access - Satellite and Dial-Up Access
            - Physical Media
                - Physical Medium - Where bit is sent across by propagating electromagnetic waves or optical pulses
                - Physical Medium - Guided or Unguided
                - Twister-Pair Copper Wire - Shielded vs. Unshielded
                - Coaxial Cable
                - Fiber Optics
                - Terrestrial Radio Channels
                - Satellite Radio Channels - Geostationary and Low-Earth Orbiting
    c. The Network Core
        - Packet Switching
            - Messages broken down into chunks of data
            - Packets pass through routers/link-layer switches and communication links
            - Store-And-Forward Transmission - Packet switch must receive entire packet before transmissions
            - Queing Delays - Caused by packets collecting in output buffer
            - Packet Loss - Packets are lost when output buffer is full
            - Forwarding Tables - Maps destination addresses to that router's outbound link
            - Routing Protocols - Used to automatically set the forwarding tables
        - Circuit Switching
            - Resources are reserved for the duration of the communication session between end systems
            - Uses dedicated end-to-end connections
            - Multiplexing - Frequency-Division or Time-Division Multiplexing
                - Link dedicates a frequency band for each connection, width is bandwidth
        - Network of Networks
            - Network Structure 1 - All access ISPs connected with a single global transit ISP
            - Network Structure 2 - 100,000s of access ISPs and multiple global ISPs
            - Network Structure 3 - Access ISPs to Regional ISPs to Tier-1 ISPs
            - Network Structure 4 - Points of Presence PoP, Multi-Homing, Peering, and Internet Exchange Points IXPs
            - Network Structure 5 - Content-Provider Networks  - Like Google
    d. Delay, Loss, and Throughput in Packet-Switched Networks
        - Nodal Processing Delay - Time required to examine packets headers and determe where to direct the packet
        - Queuing Delay - Time till entire packet is in output buffer
        - Transmission Delay - Time required to push all of the packet's bits into the link
        - Propogation Delay - Time required to propagate from beginning of link to router
        - Total Delay = Nodal + Queuing + Transmission + Propogation
        - Traffic Intensity - Bits * Average Rate of Packet Arrival to Queue / Transmission Rate La/R
        - Traceroute
        - Throughput - Average = Bits / Transfer Time, Transmission Rate of the Bottleneck Link
    e. Protocol Layers and Their Service Models
        - Layered Architecture - Protocol Layering
        - Application Layer - Network applications and their application-layer protocols reside
        - Transport Layer - Transports application-layer messages between application endpoints
        - Network Layer - Moving datagrams from one host to another
        - Link Layer - Routes a datagram through a series of routers between the source and destination
        - Physical Layer - Move bits witin the frame from one node to the next
        - OSI - Physical, Data Link, Network, Transport, Session, Presentation, Application
        - Encapsulation - Up and Down Encapuslation and Decapsulation
    f. Networks Under Attack
        - Malware - Trojans, Worms, Virus, Botnet, DoS, DDoS, Packet Sniffing, IP Spoofing
    g. History of Computer Networking and the Internet
        - Packet Switching 1961 - 1972
        - Proprietary Networks and Internetworking - 1972 - 1980
        - Proliferation of Networks - 1980 - 1990
        - Internet Explosion - 1990s
        - New Millenium - Broadband, High-Speed WiFi, Online Social Networs, Content Provider Networks, Cloud
        
Chapter 2 - Application Layer
    a. Principles of Networking Applications
        - Network Application Architectures
            - Client-to-Server - host called a server that handles requests from a host called a client
                - Google, Amazon, Netflix
            - Peer-to-Peer - direct communication between pairs of intermittenly connected hosts called peers
                - Bitcoin and BitTorrent
        - Processes Communicating
            - Process - a program that is running within an end system
            - IPC - interprocess communication among programs running on same end system
            - Client and Server Processes
                - Browser = Client and Web Server = Server
            - Interface Between the Process and Computer Networks
                - Process -> Socket -> Transport Layer -> Socket -> Another Process
            - Addressing Processes
                - Receiving Process - address of the host and an identifier (port/socket) specifiying the receiving process
                - Internet Protocol - address identifying hosts on the internet
                - Port Number - identifier specifying the port/socket related to the receiving process
        - Transport Services Available to Applications
            - Goal - handle the responsibility of getting messages from sending socket to receiving socket
            - Reliable Data Transfer - guarantees quality data delivery
            - Loss-Tolerant Applications - transport layer protocol does not provide reliable data transfer
            - Throughput - rate at which the sending process can deliver bits to the receiving process
                - Bandwidth-Sensitive Applications - applications that have throughput requirements
                - Elastic Applications - can make use of as much or as little throuhgput as happens to be available
            - Timing Guarantees
            - Security - Encryption and Decryption of Data
        - Transport Services Provided by the Internet
            - TCP Services
                - Connection-Oriented Service
                - Reliable Data Transfer Service
            - UDP Services
                - Connectionless Service
                - Unreliable Data Transfer Service
        - Securing TCP
            - Secure Socket Layer SSL
            - Transport Layer Security TSL
        - Examples
            - Electronic Mail - SMTP - TCP
            - Remote Terminal Access - Telnet - TCP
            - Web - HTTP - TCP
            - File Transfer - FTP - TCP
            - Streaming Multimedia - HTTP - TCP
            - Internet Telephony - SIP/RTP - UDP or TCP
        - Application Layer Protocols
            - Goal - defines how an application's processes, running on different end systems, pass messages to each other
            - Defines - type of messages, syntax, semantics, rules
    b. The Web and HTTP
        - Overview of HTTP
            - Hyper Text Transfer Protocol
            - Pull Protocol
        - Vocabulary
            - Web Page - document consisting of objects (files)
            - Web Browsers - implement client side of HTTP
            - Web Servers - implement the server side of HTTP
            - Transport Layer Protocol - TCP
        - Non-Persistent and Persistent Connections
            - HTTP with Non-Persistent Connections
                - TCP Handshake -> HTTP Client TCP Connection to Server -> HTTP Client HTTP Request Message -> 
                HTTP Server HTTP Response Message -> HTTP Client Received Message -> TCP Connections Close
            - HTTP with Persistent Connections
                - TCP connections do not close 
        - HTTP Request Message Format
            - Request Line, Header Lines, Body
        - HTTP Response Message Format
            - Status Line, Header Lines, Body
        - Cookies
            - HTTP Client Request -> HTTP Server Set-Cookie Response -> HTTP Client Request w/ Cookie -> HTTP Server Response -> Repeat HTTP Request w/ Cookie and HTTP Server Response
        - Web Caching
            - Cache or Proxy Server - network entity that satisfies HTTP request on behalf of an origin web server
            - HTTP Client Request -> Proxy Server -> Proxy Server Cache Check + Request -> HTTP Server Response -> Proxy Server Receival -> HTTP Client Receival
            - Content Delivery Networks - Utilize cache systems with servers
        - Conditional Get
            - HTTP mechanism that allows a cache to verify that its objects are up to date
    c. Electronic Mail and the Internet
        - Components - User Agents, Mail Servers, and Simple Mail Transfer Protocol SMTP
        - SMTP
            - Alice Agent -> Alice's Mail Server Message Queue -> SMTP to Bob's Mail Server Message Queue -> Bob's Agent
            - Push Protocol 
        - Mail Message Formats
            - Header Lines, and Body
        - Mail Access Protocols
            - Post Office Protocol Version 3 POP3 - Mail Server to User Agent
                - TCP Connection - Authorization, Transaction, and Update
            - Internet Mail Access Protocol IMAP - Mail Server to User Agent
                - TCP Connection - Folders Capability
            - Simple Mail Transfer Protocol - Mail Server to Mail Server
    d. DNS - The Internet Directory Service
        - Domain Name System DNS - Distributed database used to translate hostnames into IP addresses
        - Services Provided By DNS
            - Host Aliasing, Mail Server Aliasing, Load Distribution
        - Process
            - User Client-Side DNS Application -> Hostname to Client-Side DNS Application -> DNS Client Query to DNS Root Server -> DNS Client Query to DNS Top-Level Domain Server -> DNS Client Query to Authoritative DNS Server -> Host HTTP Client Request w/ Server Address
        - Overview Hierarchy
            - Root, Top-Level Domain (org, com, net, edu) and Authoritative
            - Local DNS Server - proxy to DNS server hierarchy
        - DNS Caching
            - Cache mapping of hostname to ip address
        - DNS Records and Messages
            - Resource Record - Four tuple (Name, Value, Type, TTL)
            - Type = A - Name = Hostname, Value = IP Address
            - Type = NS - Name = Domain, Value = Hostname of Authoritative DNS Server
            - Type = CNAME - Name = Domain, Value = Canonical Hostname for Alias
            - Type = MX - Name = Domain, Value = Canonical Name of Mail Server for Alias
        - DNS Messages
            - Query and Reply Messages
            - Header (Identification, Number of Question, Number of Authority RRs), Questions, Answers, Authority, Additional Information
        - Inserting Records into the DNS Database
            - Registrar - commercial entity that verifies the uniqueness of the domain name, enters the domain name into the DNS database, and collects a small fee
    e. Peer-to-Peer Applications
        - Scalability of P2P
        - BitTorrent
    f. Video Streaming and Content Distribution Networks
        - Internet Video
        - HTTP Streaming and DASH
            - Dynamic Adaptive Streaming over HTTP - multiple versions with different bit rates and quality levels
        - Content Distribution Networks CDN
            - Private CDN - owned by the content provider itself such as Google
            - Third-Party CDN - distributes content on behalf of multiple content providers
            - Server Placement Philosophies
                - Enter Deep - server clusters in access ISPs all over the world in order to get close to users
                - Bring Home - building larger clusters at a small number of sites, usually Internet Exhange Points IXP
            - Examples - Youtube, Netflix, and Kankan
    g. Socket Programming: Creating Network Applications
        - Socket Programming with UDP
            - Client Socket -> Client Socket Send Message -> Server Socket Listenting at Port -> Server Socket Receive and Send Back Message -> Client Socket Receive Message -> Client Socket Closes
        - Socket Programming with TCP
            - Client Socket -> Client Socket Connect -> Server Socket Listening at Port -> Server Socket Accept Connection -> Client Socket Send Message ->
            Server Connection Socket Receive and Send Back Message -> Server Connection Socket Close -> Client Socket Receive Message -> Client Socket Close

Chapter 3 - Transport Layer
    a. Introduction and Transport Layer Services
        - Relationship Between Transport and Network
            - Logical Communication - as if the hosts running the processes were directly connected
            - Transport Layer Segments -> Network Layer Datagrams
            - Transport - Connection between processes on different hosts
            - Network - Connection between hosts
        - Overview of the Transport Layer in the Internet
            - User Datagram Protocol - connectionless, unreliable
            - Transmission Control Protocol - connection-oriented, reliable, congestion control
            - Network Protocol - Internet Protocol - best-effort, unreliable delivery service
            - Tranport-Layer Multiplexing and Demultiplexing - extending host-to-host delivery to process-to-process delivery
    b. Multiplexing and Demultiplexing
        - Demultiplexing - delivering data in a transport-layer segment to the correct socket
        - Multiplexing - gathering data chunks at source host, encapsulating each data chunk with header information to create segments, and passing segment to the network Layer
        - Segment Fields - source port number field and destination port number field
        - Connectionless - UDP source port number and destination port number
        - Connection-Oriented - TCP source port number, source IP address, destination port number and destination IP address for back and forth transmission
    c. Connectionless Transport: UDP
        - Characteristics
            - Finer application-level control over what data is sent and when
            - No connection establishment
            - No connection state
            - Small packet header overhead
        - UDP Segment Structure
            - Source Port, Destination Port, Length, Checksum, Application Data
            - Error checking but no recovery
    d. Principles of Reliable Data Transfer
        - Goal - no tranferred data bits are corrupted, or lost, and all are delivered in the order in which they were sent
        - Reliable Data Transfer v1.0
            - Underlying channel is completely unreliable
        - RDT with Bit Errors v2.0
            - Positive and Negative Acknowledgements = Automatic Repeat Request Protocol
            - Error Detection, Receiver Feedback, Retransmission
            - Stop and Wait Protocol
            - Handling corrupt ACK or NAK - Repeat, checksum, retransmission, sequence number
        - RDT over Lossy Channel with Bit Errors v3.0
            - Add countdown timer for retransmission
        - Pipelined RDT Protocols
            - Goal - sending multiple packets without waiting for acknowledgements
        - Go-Back-N GBN
            - Goal - allowed to transmit multiple packets but is constrained to have no more than some maximum allowable number of unacknowledged packets in the pipeline
            - Sliding-Window protocol - window size is maximum allowable number of packets
            - Events - invocation from above, receipt of an ACK, a timeout
        - Selective Repeat SR
            - Goal - allowed to transmit multiple packets while reducing unnecessary retransmission by sending only those packets that it suspects were received in error
            - Events - invocation from above, timeout, receipt of an ACK
    e. Connection-Oriented Transport: TCP
        - The TCP Connection
            - Connection-Oriented, Full Duplex Service, Point to Point
            - Three-Way Handshake
            - Send Buffer - edge of socket buffer before network layer
            - Maximum Segment Size - maxmimum amount of data that can be placed in a segment
            - Process A -> Socket A -> Client TCP Send Buffer -> Segments over Network -> TCP Server Receive Buffer -> Socket B -> Process B
            - Cumulative Acknowledgements - acknowledge bytes up to the first missing byte
        - TCP Segment Structure
            - Source Port, Destination Port, Sequence Number, Receive Window, Header Length Field, Options Field, Flag Field, SYN, FIN, CWR, ECE, URG, ACK, PSH, RST, Checksum, Urgent Data Pointer
        - Round Trip Time Estimation and Timeout
            - Estimated Round Trip Time EstimatedRTT
            - Sample Round Trip Time SampleRTT
        - Reliable Data Transfer
            - Single Transmission Timer
            - Doubling the Timeout Interval - doubles timeout interval each time TCP retransmits
            - Fast Retransmit - retransmitting the missing segment before the segment's timer expires after receiving three duplicate ACKs
            - Flow Control - eliminate overflowing the receiver's buffer by matching the rate at which the sender is sending against the rate at which the receiving application is reading
        - TCP Connection Management
            - Connecting - Client SYN -> Server SYNACK -> Client SYNACK
            - Closing - Client FIN -> Server ACK -> Server FIN -> Client ACK
            - TCP Client States - CLOSED, SYN_SENT, ESTABLISHED, FIN_WAIT_1, FIN_WAIT_2, TIME_WAIT
            - TCP Server States - LISTEN, SYN_RCVD, ESTABLISHED, CLOSE_WAIT, LAST_ACK
    f. Principles of Congestion Control
        - Causes and Cost of Congestion
            - Large queuing delays as the packet arrival rate nears the link capacity
            - Sender must perform retransmissions in order to compensate for dropped packets due to buffer overflow
            - When a packet is dropped, the transmission capacity that was used at each of the upstream links to forward that packet ends up being wasted
        - Approaches to Congestion Control
            - End-To-End
            - Netrwork-Assisted Congestion Control
    g. TCP Congestion Control
        - Senders rate is congestion window / RTT bytes/sec
        - Adjust congestion window to adjust the rate at which data is sent into the connection
        - How do TCP senders detemine their sending rates such that they dont congest the network but at the same time make use of all the available bandwidth?
            - A lost segment implies congestion, and hence, the TCP sender's rate should be decreased
            - An ACK indicates that the network is delivering the sender's segments to the receiver, and hence, the sender's rate can be increased
            - Bandwidth probing cycle of checking
        - TCP Congestion-Control Algorithm
            - Slow-Start - congestion window increases by 1 MSS every time a transmitted segment is first ACK
            - Congestion-Avoidance - when cwnd equals slow start threshold, cwnd is havled and increases only by one
            - Fast-Recovery - value of cwnd is increased by 1 MSS for every duplicate ACK received for the missing segment that caused TCP to enter Fast-Recovery
            - Retrospective
                - Additive-Increase, Multiplicative Decrease AIMD
            - Fairness - average transmission rate of each connection is R Transmission Rate / K Connections
            - Explicit Congestion Notification ECN: Network-Assisted Congestion Control
                - Network explicilty signals congestion to TCP sender and receiver
                - Two Bits, Four Values, in the Type of Service field of the IP datagram header

Chapter 4 - Network Layer: Data Plane
    a. Overview of Network Layer
        - Forwarding and Routing: The Data and Control Planes
            - Forwarding - moving packets from the input link to the appropriate output link
            - Routing - the network layer determing the route or path taken by packets
            - Routing Algorithm - algorithm that calculates routing paths
            - Forwarding Table - used with packet's header values to indicate output link
        - Control Plane: The Traditional Approach
            - Routing algorithm runs in each and every router and both forwarding and routing are contained within the router
        - Control Plane: The SDN Approach
            - Software Defined Networking - network is software defining because the controller that computes forwarding tables and interacts with routers is implemented in software
        - Network Service Model
            - Guaranteed Delivery, Guaranteed Delivery with Bounded Delay, In-Order Packet Delivery, Guaranteed Minimal Bandwidth, Security
            - Internet's Network Layer - Best-Effort Service
    b. What's Inside a Router?
        - Architecture
            - Input Port - terminates incoming physical link, lookup function
            - Switching Fabric - connects the router's input ports with output ports
            - Output Ports - stores packets received from switching fabric and transmits these packets on the outgoing link
            - Routing Processor - performs control plane funtions
        - Forwarding
            - Destination Based Forwarding and Generalized Forwarding
        - Input Processing and Destination-Based Forwarding
            - Line termination -> Data link processing protocol and decapsulation -> Lookup, forwarding and queuing -> Switching fabric
        - Switching
            - Memory - copy from input port to processor memory to output port
            - Bus - transfer a packet from input to output directly over a shared bus
            - Interconnection Network - non-blocking cross-bar switch forwarding mulitple packets in parallel
        - Output Processing
            - Queuing buffer -> Data link processing protocol and encapsulation -> Line termination
        - Where does Queuing Occur?
            - Input Queuing - switch fabric is not fast enough to tranafer all arriving packets without delay
                - Head-of-the-Line Blokcing - a queued packet in an input queue must wait for transfer through fabric, even though it's output port is free, because it is blocked by another packet
            - Output Queuing - output port transmits packets slower than switching fabric provides them
                - Drop-Tail - output port drops packet or removes already-queued packets
                - Active Queue Management AQM and Random Early Detection RED
        - Packet Scheduling
            - First-In-First-Out FIFO, Priority Queuing, Round Robin and Weighted Fair Queuing
    c. The Internet Protocol: IPv4 Addressing, and IPv6
        - IPv4 Datagram Format
            - Version Number, Header Length, Type of Service TOS, Datagram Length, Identifier, Flags, Fragmentation Offset, Time-to-Live TTL, Protocol, Header Checksum, Source and Destination IP Addresses, Options, Data
        - IPv4 Datagram Fragmentation
            - Link-layer frames have different Maxmimum Transmission Units MTUs
            - Fragmentation - converting large datagrams into smaller datagrams
        - IPv4 Addressing
            - Interface - boundary between host and the physical link
            - Dotted-Decimal Notation - xxx.xxx.xxx.xxx
            - Subnet - multiple interfaces interconnected to a single router
            - Subnet Mask - value indicating number of bits that define the subnet address xxx.xxx.xxx.xxx/mask
            - Classless Interdomain Routing - internet's address assignment strategy
            - Classful Addressing - Class A, B, and C
            - Address Aggregration - Using a single prefix to advertise multiple networks
        - Dynamic Host Configuration Protocol
            - Goal - Dynamic allocation of IP addresses automatically
            - Process - Host Sends DHCP Discover Message -> DHCP Server Sends DHCP Offer Message -> Host Sends DHCP Request Message -> DHCP Server Sends ACK Message
        - Network Address Translation NAT
            - Private LAN Addresses, Single NAT Enabled Router IP, NAT Translation LAN to WAN and WAN to LAN with IPs and Ports
        - IPv6
            - Goal - deal with dwindling number of available IPv4 addresses
        - IPv6 Datagram Format
            - Version, Traffic Class, Flow Label, Payload Length, Next HRD, Hop Limit, Source Address, Destination Address, Data
            - Missing Fields - Fragmentation, Header Checksum, Options
        - Transitioning from IPv4 to IPv6
            - IPv6 enabled router places IPv6 datagram as payload for IPv4 datagram, IPv6 destintion router extracts IPv6 and then routes datagram
    d. Generalized Forwarding and SDN
        - Packet switches that use match-plus-action table
        - Match
            - OpenFlow can match on Source and Destination Mac, Eth Type, VLAN, Source and Destination IP, Source and Destination TCP/UDP Port
        - Action
            - Forwarding, Dropping, or Modify Field
        - Examples - Forwarding, Load Balancing, and Firewalling

Chapter 5 - The Network Layer: Control Plane
    a. Introduction
        - Control Plane - network-wide logic that controls not only how a datagram is forwarded among routers along an end-to-end path from the source host to the destination host, but also how network-layer components and services are configured and managed
        - Methods for Computing Forwarding and Flow Tables
            - Per-Router Control - algorithm runs in each and every router
            - Logically Centralized Control - through SDN controller and network applications 
    b. Routing Algorithms
        - Goal - determine good paths from senders to receivers, through the network of routes
        - Graph - used to formulate routing problems, G = (nodes N, edges E)
        - Path - sequence of nodes connected by edges leading from sender to receiver
        - Least-Cost Path - find a path between between the source and destination that has the least cost
        - Shortest Path - not always the least cost path, it is when all edges have the same cost 
        - Centralized Routing Algorithm - computes the least cost path between source and destination using complete global knowledge of the network
        - Decentralized Routing Algorithm - calculation of least cost path is iterative, occuring at each router
        - Static Routing Algorithms - routes change very slowly over time, often as a result of human intervention
        - Dynamic Routing Algorithms - routes change as the network traffic load or topology changes
        - Load Sensitive Algorithm - links cost vary dynamically to reflect the current level of congestion in the underlying link
        - Load Insensitive Algorithm - link cost does not explicitly reflect its current or past level of congestion
        - Link-State Routing Algorithm
            - Network topology and all links costs are known
            - Link-State Broadcast - each node broadcasts link-state packets to all other nodes
        - Distance-Vector Routing Algorithm
            - Iterative, asynchronous, and distributed
            - Each node receives some information from one or more of its directly attached neighbors
    c. Intra-AS Routing in the Internet: OSPF
        - Autonomous System AS - groups of routers under the same administrative control
        - Intra-Autonomous System Routing Protocol - algorithm running within an AS
        - Open Shortest Path First OSPF
            - Flooding of link-state information and Dijkstra's least-cost path Algorithm
            - Each router calculate shortest path to all subnets and broadcasts
            - Security - exchanges between OSPF routers can be authenticated
            - Multiple Same-Cost Paths - allowing multiple paths
            - Integrated Support for Unicast and Multicast Routing
            - Support for Hierarchy
    d. Routing Among the ISPs: BGP
        - Inter-Autonomous System Routing Protocol - coordinate routing between multiple AS
        - Border Gateway Protocol - all ASs run the same inter-AS routing protocol
        - Obtain Prefix reachability Information from Neighboring AS
        - Determing the Best Routes to the Prefixes
        - Advertising BGP Route Information
            - Gateway Router - router on the edge of an AS that directly connects to one or more router in other ASs
            - Internal Router - only connects to hosts and routers within its own AS
        - External BGP Connection - spans two ASs
        - Internal BGP Connection - a BGP sessions betwen routers in the same AS
        - Determining the Best Routes
            - BGP Attributes - prefix with Attributes
            - AS-PATH - list of ASs through which the advertisement has passed
            - NEXT-HOP - IP address of the router interace that begins the AS-PATH
        - Hot Potato Routing - route chosen is the route with the least cost to the NEXT-HOP router
        - Route-Selection Algorithm
            - Route assigned a local preference value as one of its attributes, routes with highest local preference values are selected
            - From remaining routes, route with the shortest AS-PATH is selected
            - From remaining routes, hot potato routing is used
            - If more than one route still remains, router uses BGP identifiers
        - IP-Anycast
            - Used in DNS
            - CDN company assigns the asme IP address to each of its servers
            - Use BGP to advertise this IP address from each of the servers
            - BGP router treats each route advertisements as providing different routes to the same location
    e. The SDN Control Plane
        - Characteristics
            - Flow Based Forwarding - packet forwarding can be based on any number of header fields
            - Separation of Data Plane and Control Plane
            - Network Control Functions External to Data Plane Switches
            - Programmable Network
        - Structure
            - SDN-Controlled Switches -> SDN Controller -> Network-Control Applications
        - SDN Control Plane: SDN Controller and SDN Network-Control Applications
            - Communication Layer -> Network-Wide State Management Layer -> Interface to the Network-Control Application Layer
        - OpenFlow Protocol
            - Operates between a SDN controller and an SDN controlled switch
            - Messages from Controller to Controlled Switch
                - Configuration, Modify-State, Read-State, Send-Packet
            - Messages from Controlled Switch to Controller
                - Flow-Removed, Port-Status, Packet-In
        - Data and Control Plane Interaction: An Example
            - Switch1, experiencing link failure, notifies SDN Controller with Port-Status message
            - SDN Controller notifies the link-state manager, which updates a link-state database
            - Network Control Application with Link-State Routing is notified
            - Link-State Routing Application interacts with Link-State Manager to get updated Link-State
            - Link-State Routing Application interacts with Flow Table Manager
            - Flow Table Manager uses OpenFlow protocol to update Flow Table Entries of affected switches
    f. ICMP: The Internet Control Message Protocol
        - Goal - used by hosts and routers to communicate network-layer information to each other e.g. error reporting
        - ICMP messages are carried inside IP datagrams e.g. as IP payloads like TCP or UDP segemnts
        - Ping and Traceroute
        - Message Types
            - 1 - 0 - echo reply
            - 3 - 0 - destination network unreachable
            - 3 - 1 - destination host unreachable
            - 3 - 2 - destination protocol unreachable
            - 3 - 3 - destination port unreachable
            - 3 - 6 - destination network unknown
            - 3 - 7 - destination host unknown
            - 4 - 0 - source quench
            - 8 - 0 - echo request
            - 9 - 0 - router advertisement
            - 10 - 0 - router discovery
            - 11 - 0 - TTL expired
            - 12 - 0 - IP header bad
    g. Network Management and SNMP
        - Saydam on "What is network management?"
            - Network management includes the deployment, integration, and coordination of the hardware, software,
            and human elements to monitor, test, poll, configure, analyze, evaluate, and control the network and 
            element resources to meet the real-time operation performance and quality of service requirements at 
            a reasonable cost
        - The Network Management Framework
            - Managing Server - application running in a centralized network management station, locus for network management
            - Managed Device - piece of network equipment that resides on a managed network, composed of managed objects
            - Management Information Base - information on managed object
            - Network Management Agent - process running in the managed device that communicates with the managing server
            - Network Management Protocol - runs between server and device, allowing server to query status and indirectly take actions
        - The Simple Network Management Protocol
            - Application-Layer Protocol used to convey network-management control and information messages between a managing server and an agent
            - Request-Response Format - SNMP server sends request to SNMP agent -> agent performs some action -> SNMP agent sends a reply to the request
            - Message Types
                - GetRequest, GetNextRequest, GetBulkRequest, InformRequest, SetRequest, Response, SNMPv2 Trap
                
Chapter 6 - The Link Layer and LANS
    a. Introduction to the Link Layer
        - Vocabulary
            - Node - any device that runs a link layer protocol
            - Links - communication channels that connect adjacent nodes along the communication path
            - Link-Layer Frame - datagram encapsulated to be sent over a given link
        - Services Provided by the Link Layer
            - Framing - encapsulation of network-layer datagram within a link-layer frame before transmission
            - Link Access - medium access control protocol specificies the rules by which a frame is transmitted onto the link
            - Reliable Delivery - guarantees to move each network-layer datagram across the link without error
        - Where is the Link Layer Implemented?
            - Network Adapter or Network Interface Card - where the link layer is implemented
            - Link-Layer Controller - a special purpose chip that implements many of the link-layer services
    b. Error-Detection and Correction Techniques
        - Parity Checks
            - Parity Bit - added bit that makes total number of 1s in the d + 1 bits even or odd 
            - Two-Dimensional Parity - d bits are divided into rows and columns and a parity for each row and column is calculated
            - Forward Error Correction - receiver detects and corrects errors
        - Checksumming Methods
            - Goal - d bits of data are treated as a sequence of k-bit integers
            - Internet Checksum - bytes of data are treated as 16-bit integers and summed, then 1s complement of this sum is checksum
        - Cyclic Redundancy Check
            - Generator G - r + 1 bit pattern
            - Goal - sender will choose r additional bits and append them to D such that d + r is divisble by G
            - Error Checking - receiver divides the d + r received bits by G, and the remainder should be zero if no error
    c. Multiple Access Links and protocols
        - Vocabulary
            - Point-to-Point Link - consists of a single sender at one end and a single reciever at the other end of the link
            - Broadcast Link - can have multiple sending and receiving nodes all connected to the same broadcast channel
            - Multiple Access Problem - how to coordinate the access of multiple sending and receiving nodes
            - Collision - more than two nodes transmit frames at the same time
            - Categories - channel partitioning, random access, taking-turns
        - Channel Partitioning Protocols
            - Time Division Multiplexing - divides time into time frames and further divides each frame into time slots
            - Frequency Division Multiplexing - divides the R bps channel into different frequencies and assigns each frequency to one of the nodes
            - Code Division Multiple Access CDMA - assigns a different code to each node
        - Random Access Protocols
            - Random Wait - if a collision occurs, each node waits a random delay before retransmitting the frame
            - Slotted ALOHA - if a collision occurs, node tosses a coin and heads/tails is retransmit or wait
            - ALOHA - node will immediately retransmit the frame with probability p, otherwise the node waits for a frame transmission time
            - Carrier Sensing Multiple Access
                - Listen Before Speaking and Stop Talking if Another is Speaking
                - Channel Propogation Delay - time it takes for a singal to propagate from one of the nodes to another
                - Binary Exponential Backoff - value for wait is determined by random value between 0...2^n-1
        - Taking-Turns Protocols
            - Polling - master node polls each of the nodes in a RR
            - Token Passing - nodes pass permission token, and while holding token, may transmit
        - Data-Over-Cable Service Interface Specifications DOCSIS
            - Frequency Division Multiplexing to divide the downstream and upstream network segments into multiple frequency channels
            - Time Division Multiplexing to divide upstream channel into intervals of time
            - Random Access for cable modems sending mini-slot request frames
            - Binary Exponential Backoff when collisions occur
    d. Switched Local Area Networks
        - Link-Layer Addressing and Address Resolution Protocol
            - Mac Address, LAN Address, Physical Address
                - Each adapter has a specific MAC Address
            - Address Resolution Protocol
                - Translate IP address with MAC Addresses
                - ARP Module in sending host takes IP Address and returns MAC Address only within same subnet
                - Each Host and Router has an ARP Table, which contains mapping of IP Addresses to MAC Addresses
                - If value is not on table, host passes ARP query packet to adapter with FF-FF-FF-FF-FF-FF which hits all adapters and corresponding ARP modules
        - Ethernet
            - Hub - physical-layer device that acts on individual bits rather than frames
            - Switch - collision-less, store-and-forward packet switch
            - Ethernet Frame Structure
                - Data Field, Destination Address, Source Address, Type Field, Cyclic Redundancy Check, Preamble
            - Ethernet Technologies
                - 10BASE-T, 10BASE-2, 100BASE-T, 1000BASE-LX, 10GBASE-T, 40GBASE-T
                - Speed - Baseboard, physical media
                - Repeater - physical-layer device that receives a signal on the input side and regenerates the signal on the output side
        - Link-Layer Switches
            - Forwarding and Filtering
                - Filtering - switch function that determines whether a frame should be forwarded to some interface or just dropped
                - Forwarding - a switch function that determines the interfaces to which a frame should be directed and then moves the frame to those interfaces
                - Switch Table - contains entries for hosts and routers on the LAN
            - Self-Learning
                - Switch Table is initially empty
                - For each frame, swtich stores MAC address, interface from which the frame arrived, and current time
                - Switch deletes an address in the table if no frames are received after the aging time
            - Properties of Link-Layer Switching
                - Elimination of Collisions, Heterogenous Links, Management
        - Virtual Local Area Networks
            - Allows multiple virtual local area networks to be defined over a single physical local area network infrastructure
            - VLAN Trunking - special port on each switch is configured as a trunk port to interconnect the two VLAN switches
            - VLAN Tag - identity of the VLAN to which the frame belongs
    e. Link Virtualization: A Network as a Link Layer
        - Link as a channel rather than a wire
        - Multiprotocol Label Switching
            - Headers - PPP or Ethernet Header, MPLS Header, IP Header, Remainder of Link-Layer Frame
            - Label Switched Router
            - Traffic Engineering - forward packets along routes that would not be possible using standard IP routing protocols
            - Virtual Private Networks - isolate both the resources and addressing used by the customers VPN from that of other users crossing the ISPs network
    f. Data Center Networking
        - Hosts/Blades - servers serving content
        - Top of Rack Switch - interconnects the hosts in the rack with each other and with other switches in the data center
        - Border Routers - handle flows between external clients and internal hosts
        - Load Balancing - distribute requests to the hosts, balancing the load across the hosts as a function of their current load
        - Hierarchial Structure - Internet - Border Router - Access Routers - Load Balancers/Tier-1 Switches - Tier-2 Switches - TOR Switches - Server
        - Trends in Data Center Networking - Fully Connected Topology

Chapter 7 - Wireless and Mobile Networks
    a. Introduction
        - Wireless Hosts - end-sytem devices that run applications
        - Wireless Communication Link - connection to a base station or another wireless host
        - Base Station - responsible for sending and receiving data (e.g. packets) to and from a wireless host that is associated with that base station (cell towers and access points)
        - Infrastructure Mode - traditional network services are provided by the network to which a host is connected via the base station
        - Ad Hoc Networks - wireless hosts have no infrastructure so the hosts themselves must provide for services such as routing, address assignment, DNS and more
        - Handoff - when a mobile host moves beyond the range of one base station and into the range of another, changing its point of attachment
        - Classifications
            - Single-hop infrastructure based - base station connected to a larger wired network and communication between wireless host and base station is one hop
            - Single-hop infrastructure-less - no base station connected to a wireless network (Bluetooth)
            - Multi-hop infrastructure based - base station is present but some wireless nodes may have to relay their communication through other nodes (Wireless Mesh Networks)
            - Multi-hop infrastructure less - no base station and nodes may have to relay their communication through other nodes (Mobile Ad Hoc Networks or Vehicular Ad Hoc Network)
    b. Wireless Links and Network Characteristics
        - Link Layer Differences
            - Decreasing signal strength - signal disperses, resulting in decreased signal strength sometimes called path loss
            - Interference from other sources - radio sources in same frequency band can interfere with each other
            - Multipath propogation - portions of electromagnetic wave reflect off objects, taking paths of different length
        - Signal-to-Noise Ratio - relative measure of the strength of the received signal and the noise
        - Hidden Terminal Problem - due to interference, stations may not hear each other
        - Code Divison Multiple Access - each bit is mulitplied by a signal code effectively partioning transmitted packets 
    c. WiFi: 802.11 Wireless LANs
        - 802.11 Architecture
            - Basic Service Set - contains one or more wireless stations and a central base station known as the access point
            - Infrastructure Wireless LANs - wireless LANs that deploy access points
            - Channels and Association
                - Each access point has a Service Set Identifier SSID and a channel number within 2.4 GHz to 2.4835 GHz
                - WiFi Jungle - any physical location where a wireless station receives a sufficiently strong signal from two or more access points
                - Associate - wireless device needs to join exactly one subnet associated with one access point
                - Beacon Frames - access points send these which include the AP SSID and MAC address to wireless stations, which choose a AP from the frames to associate with
                - Passive Scanning - scanning channels and listening for beacon frames
                - Active Scanning - wireless device broadcasts a probe frame that will be received by all AP within the wireless device's range
        - 802.11 Multiple Access Control Protocol
            - Classes - Channel Parititioning, Random and Taking Turns
            - Carrier Sense Multiple Access CSMA
            - Link-Layer Acknowledgement - station rceives a frame that passes CRC, waits Short Inter-frame Spacing SIFS, then sends back acknowledgement
        - Dealing with Hidden Terminals
            - IEEE 802.11 protocol allows a station to use Request to Send RTS control frame and a short Clear to Send CTS control frame to reserve the channel
        - 802.11 Frame
            - Payload and CRC Fields - IP datagram or ARP packet
            - Address Fields - MAC address of station that transmits frame, MAC of wireless station to receive frame, MAC of router interface connecting to other subnets
            - Sequence Number, Duration, and Frame Control Fields
        - Mobility in the Same IP Subnet
            - Host moves from BSS 1 to BSS 2
            - H1 has weak signal with AP 1 and starts to scan
            - H1 receives beacon frame from AP 2
            - H1 leaves AP 1 and associates with AP 2, keeping its IP address and TCP session
        - Advanced Features in 802.11
            - Rate Adaptation, Power Management
        - Personal Area Networks
            - Bluetooth - short range, low power and low cost
                - Piconet with a Master, Slaves, and Parked Devices
            - Zigbee - lower power, lower data rate, and lower duty cycle applications
                - Reduced function devices i.e. slaves or full-function device i.e. master
    d. Cellular Internet Access
        - Overview of Cellular Network Architecture
            - Global System for Mobile Communication GSM
            - Generations
                - 1G - voice traffic
                - 2G - voice traffic
                - 3G - voice and data
                - 4G LTE - voice and data at multi-Megabit speeds
            - Cellular - regions covered by a cellular network partitioned into a number of geographic areas called cells
            - 2G Voice Connections to the Telephone Network
                - Base Transceiver Stations - transmits signal to and receives signals from mobile stations in its cell
                - Frequency Division Multiplexing and Time Division Multiplexing - Channel into F sub-bands where time is partitioned into T slots
                - Base Station Controller - typically service several tens of base transceiver stations and allocate BTS radio channels to mobile subscribers and perform handoffs
                - Base Station Subsystem - base station controller and its controlled base transceiver stations
                - Mobile Switching Center - plays central role in authorization and accounting, call establishments, teardown, and handoff
        - 3G Extending the Internet to Cellular Subscribers
            - GOAL - connect radio access networks to the public internet
            - Serving GPRS Support nodes - delivers datgrams to/from mobile nodes in the radio access network to which the SGSN is attached
            - Gateway GPRS Support Nodes - connects multiple SGSNs into the larger internet, looks like a gateway router
            - Generalized Packet Radio Service GPRS
            - 3G Radio Access: The Wireless Edge
                - 3G Radio Access Network - first-hop network that we see as a 3G user
                - Radio Network Controller - controls several cell base transceiver stations, Node Bs, connects to MSC cellular voice network, and SGSN packet switched internet
                - Direct Sequence Wideband DS-WCDMA
        - On to 4G LTE
            - 4G System Architecture: An All-IP Core Network
                - User Equipment UE - wireless devices
                - Unified All-IP Network Architecture - voice and data are carried in IP datagrams
                - Clear Separation of the 4G control plane and 4G data plane
                - Clear Separation between the radio access network and the all-IP core network
                - eNodeB - base station or radio network controller equivalent, data grams are tunneled to Packet Data Network Gateway
                - Packet Data Network Gateway - allocates IP addresses to the UEs and performs QoS enforcement and performs encapsulation and decapsulation
                - Serving Gateway - date-plane mobility anchor point, charging and billing functions and lawful traffic interception
                - Mobility Management Entity - performs connection and mobility management on behalf of the UE residents in the cell it controls
                - Home Subscriber Server - contains the US information including roaming capabilities, QoS profiles, and authentication information
            - LTE Radio Access Network
                - Orthogonal Frequency Division Multiplexing
    e. Mobility Management: Principles
        - How Mobile
            - User Moves Within Same Network - User Moves Between Access Networks Shutting Down in Between - User Moves Between Access Networks While Maintaining Connections
            - Home Network - permanent home of a mobile node
            - Home Agent - performs the mobility management functions on behalf of the mobile node
            - Foreign or Visited Network - network in which the mobile node is currently residing
            - Foreign Agent - agent within the foreign network that helps the mobile node with mobility management
            - Correspondent - entity wishing to communicate with the mobile node
        - Addressing
            - Care-of-Address COA - address where mobile device is currently residing
            - Permanent Address - mobile device's home address
        - Routing to a Mobile Node
            - Indirect Routing
                - Correspondent addresses the datagram to the mobile node's permanent address and sends the datagram into the network
                - Home agent receives datagram, encapsulates it and sends to foreign agent using COA, and from there to the mobile node itself
            - Direct Routing
                - Correspondent agent learns about the COA of a mobile node by querying the home agent then sends datagram using COA to foreign agent, and from there to the mobile node itself
                - Mobile User Location Protocol
                - Anchor Foreign Agent
    f. Mobile IP
        - Agent Discovery
            - Goal - learn identity of the corresponding foreign agent or home agent
            - Agent Advertisement - foreign or home agent advertises its services using an extension to the existing router discovery protocol ICMP message
            - Agent Solicitation - mobile node broadcasts a solicitation message, and agent will send an advertisement directly to the mobile node
        - Registration with Home Agent
            - Goal - COA must be registered with home agent
            - Node sends mobile IP registration mesage to foreign agent with COA, Home Agent Address HA, Mobile Node Permanent Address MA, life time of registration and 64-bit registration ID
            - Foreign agent records mobile node's permanent address and sends IP registration message to port 434 of home agent
            - Home agent receives, checks for authenticity, and binds mobile node's IP with COA, then sends reply which is forwarded from foreign agent back to mobile node
        - Indirect Routing of Datagrams
    g. Managing Mobility in Cellular Networks
        - Home Public Land Mobile Network Home PLMN - mobile user's home network
        - Visited PLMN - foreign or visited network
        - Home Location Regsiter - database which contains the permanent cell phone number and subscriber profile information
        - Gateway Mobile Switching Center GMSC - contacted by a correspondent when a call is placed 
        - Visitor Location Register - contains an entry for each mobile user that is currently in the portion of the network served by the VLR
        - Routing Calls to a Mobile User
            - Correspondent dials mobile user's phone number, leading digits identify home network, routed through Public Switch Telephone Network to Home MSC
            - Home MSC receives and interrogates HLR, some cases it will have mobile station roaming number, if not, returns address of VLR and querys it for roaming number
            - Given the roaming number, the home MSC sets up call through the network to the MSC in the visited network
        - Handoffs in GSM
            - Reasons - signal is getting too weak or cell is overloaded
            - Old BS informs the visited MSC that a handoff is to be performed
            - Visited MSC initiates path set up to the new BS, allocating resources for the call
            - The new BS allocates and activates a radio channel for use by the mobile
            - The new BS signals back to the visited MSC and the old BS that the visited MSC to new BS path has been established
            - Mobile is informed that it should perform a handoff
            - The mobile and the new BS exchange one or more messages to fully activate the channel
            - Mobile sends a handoff complete message to the new BS, which is forwarded to the visited MSC, which then reroutes the ongoing call to the mobile via the BS
            - The resources allocated along the path to the old BS are then released
    h. Wirelss and Mobility: Impact on Higher-Layer Protocols
        - Approaches for Dealing with TCP Congestion
            - Local Recovery, TCP Sender Awareness of Wireless Links, Split-Connection Approaches

Chapter 8 - Security in Computer Networks
    a. What is Network Security?
        - Properties of Secure Communication
            - Confidentiality, Message Integrity, End-Point Authentication, Operational Security
        - Intruder Might
            - Steal, Alter, or Delete Messages
    b. Principles of Cryptography
        - Vocabulary
            - Plaintext or Cleartext - a message in its original form
            - Encryption Algorithm - used to encrypt a message
            - Ciphertext - encrypted message
            - Decryption Algorithm - used to decrypt messages
            - Symmetric Key Systems - Alice and Bob's keys are identical and are secret
            - Public Key Systems - pair of keys is used, public one for Alice and Bob each, and a private one for each
        - Symmetric Key Cryptography
            - Caesar Cipher - shift cipher
            - Monoalphabetic Cipher - single letter substituted with another letter
            - Polyalphabetic Cipher - letter is substituted with multiple letters
            - Frequency Analysis - identifying cipher letters based on common usage and pairing
            - Attacks
                - Ciphertext-Only Attack, Known-Plaintext Attack, Chosen-Plaintext Attack
            - Block Ciphers - message to be encrypted is processed in blocks of k bits
            - Cipher-Block Chaining - send one random value along with the very first message, 
            and then have the sender and receiver use the computed code blocks in place of the subsequent random number
        - Public Key Encryption
            - Public Key - everyone in the world knows
            - Private Key - known only to Bob
            - Things signed with Public Key can only be decrypted with Private Key using modular arithmetic
            - RSA - Rivest, Shamir, Adelman
                - Choose two large prime numbers, so large that brute force attacks will take an unreasonable long time
            - Session Keys - key used to encode data, encrypted using RSA and then sent where it is decrypted and known for when Alice encrypts the data transfer
    c. Message Integrity and Digital Signatures
        - Validate - message is from sender and has not been tampered with
        - Cryptographic Hash Functions
            - Goal - takes an input and computes a fixed size string e.g. Internet Checksum
            - Requirement - it is computationally infeasible to find any two different messages x and y such that H(x) = H(y)
            - Examples - MD5 by Ron Rivest, Secure Hash Algorithm-1 and -2
        - Message Authentication Code MAC
        - Digital Signatures
            - Goal - crytopgraphic technique for indicating user authenticity
        - Public Key Certification
            - Certificate Authority - binds a public key to a particular entity
    d. End-Point Authentication
        - Goal - process of one entity proving it's identity to another entity over a computer network
        - Example v4.0
            - Alice sends the message "I am Alice" to Bob
            - Bob chooses a nonce, R, and sends it to Alice
            - Alice encrypts the nonce using Alice and Bob's symmetric key, and sends the encrypted nonce back to Bob
            - Bob uses symmetric key to decrypt the received message and check nonce, if the nonce matches, Alice is authenticated
    e. Securing E-Mail
        - Secure E-Mail No Confidentiality
            - Alice applies a hash function to her message to obtain a message digest
            - Alice signs the result of the hash function with her private key to create a digital signature
            - Alice concatenates the original message with the signature to create a package
            - Alice sends this package to Bob's email address
            - Bob applies Alice's public key to the signed message digest and compares the result with his own hash of the message
        - Secure E-Mail Confidentiality, Security, and Message Integrity
            - Alice applies a hash function to her message to obtain a message digest
            - Alice signs the result of the hash function with her private key to create a digital signature
            - Alice concatenates the original message with the signature to create a package
            - Alice then selects a random symmetric session key
            - Alice encrypts the package with the symmetric key and encrypts the symmetric key with Bob's public key
            - Alice concatenates the encrypted package and the encrypted symmetric key to form a new package
            - Alice sends this package within a package to Bob
            - Bob uses his private key to obtain the symmetric key
            - Bob uses the symmetric key to decrypt the package
            - Bob applies Alice's public key to the signed message digest and comapres the result with his own hash of the message
            - From now own, Alice and Bob can just use the shared symmetric key to encrypt and decrypt data
        - Pretty Good Privacy PGP
    f. Securing TCP Connections: SSL
        - Three Phases - Handshake, Key Derivation, and Data Transfer
        - Handshake
            - Bob sends TCP SYN to Alice
            - Alice replies with TCP SYNACK
            - Bob replies with ACK
            - Bob sends a SSL Hello Message
            - Alice responds with her public key
            - Bob generates a Master Secret and then encrypts the MS with Alice's public key to create the Encrypted Master Secret
            - Bob sends the EMS to Alice, who decrypts it with her private key
            - Now Bob and Alice will use the Master Secret for the SSL session
        - Key Derivation
            - Alice and Bob use the MS to generate
                - Session Encryption key for data sent from Bob to Alice
                - Session Encryption key for data sent from Alice to Bob
                - Session MAC key for data sent from Bob to Alice
                - Session MAC key for data sent from Alice to Bob
        - Data Transfer
            - SSL breaks the data stream into records, appends a MAC to each record for integrity checking, and then encrypts the record + MAC
            - The MAC is created by putting the record data along with the Session MAC key into a hash function
            - The package record + MAC is encrypted using the Session Encryption key
            - This package is handed to TCP for transportation over the Internet
            - Sequence numbers are used to ensure someone is not inserting, deleting or replacing segments passed to TCP
        - SSL Record
            - Type, Version, Length, Data, and MAC
        - A More Complete Picture
            - Client sends a list of cryptogrpaic algorithms it supports along with a client nonce to Server
            - Server chooses a symmetric algorithm, a public key algorithm, and a MAC algorithm, sending back its choices along with a certificate and server nonce
            - Client verifies the certificate, extracts Server's public key, generates a Pre-Master Secret, encrypts the PMS with Server's public key and sends encrypted PMS to the Server
            - Client and Server independently computer the Master Secret from the PMS and nonces using the chosen symmetric key algorithm
            - The Master Secret is used to generate two Encryption and two MAC keys
            - Client sends a MAC of all the handshake messages (protect from tampering)
            - Server sends a MAC of all the handshake messages (protect from tampering)
            - Indicate in the type field of the SSL session record whether the record servers to terminate the SSL session
    g. Network-Layer Security: IPsec and Virtual Private Networks
        - Goal - provides security at the network layer, secures IP datagrams between any two network-layer entities
        - Blanket Coverage - all data sent from one entity to another, including all types of messages, would be hidden from any third party that might be sniffing
        - IPSec and Virtual Networks
            - VPN - encrypting data when communication over a path traverses the public Internet
        - Authentication Header AH - provides source authentication and data integrity
        - Encapsulation Security Payload ESP Protocols - provides source authentication, data integrity, and confidentiality
        - Security Associations
            - SA - source and destination entities create two unidirectional network-layer logical associations between them
            - SA Information - Security Parameter Index, origin and destination of the SA, type of encryption, encryption key, type of integrity check, authentication key
            - Security Association Database - storage for the state of all SAs a IPsec entity has
        - IPsec Datagram
            - Tunnel Mode - appropriate for VPNs, and Transport Mode
            - Format - New IP Header, ESP Header, Original IP Header, Original IP payload, ESP trailer, ESP MAC
            - Convert IPv4 datagram into IPsec Datagram
            - Routers will process the IPsec datagram as if it were an ordinary datagram, oblivious to the face that the datagram is carrying IPsec encrypted data
            - Security Policy Database - indicates type of datagrams that are to be IPsec processed and which SA to use
        - Internet Key Exchange IKE: Key Management in IPsec
            - Two sides use Diffie-Hellman to create a bi-direcitonal IKE SA between the routers
            - IKE SA provides an authentication and encrypted channel between the two routers
            - First message pass - keys are established for encryption and authentication for the IKE SA and a master secret is also created
            - Second message pass - both sides reveal their identity by signing their messages, and encryption and authentication algorithms are chosen
            - SAs are created in both directions
    h. Securing Wireless LANs
        - Wired Equivalent Privacy
            - Wireless host request authentication to an acces point
            - The access point responds to the authentication request with a 128-byte nonce value
            - The wireless host encrypts the nonce using the symmetric key that it shares with the access point
            - The access point decrypts the host-encrypted nonce
        - IEEE 802.11i
            - Four Phases - Discovery, Mutual Authentication and Master Key Generation, Pairwise Master Key Generation, Temporal Key Generation
            - Discovery
                - Access Point advertises its presence and the forms of authentication and encryption that can be provided
                - Client requests specific forms of authentication and encryption
            - Mutual Authentication and Master Key Generation
                - Access Point acts as a relay, forwarding message between client and the authentication server
                - Extensible Authentication protocol defines end-to-end message format
                - EAPol - EAP over LAN from client to AP and then RADIUS from AP to server
                - Authentication server uses EAP TLS public key techniques to allow the server and client to authenticate each other and derive a Master Key
            - Pairwise Master Key Generation
                - MK used to generate PMK, and PMK is sent to AP, now client and AP have a shared key
            - Temporal Key Generation
                - Using the PMK, client and ap can generate additional keys used for communication, like Temporal Key used to perform link-level encryption of data sent over the wireless link
    i. Operational Security: Firewalls and Intrusion Detection System
        - Firewalls
            - Goals
                - All traffic from outside, and vice versa, passes through the firewall
                - Only authorized traffic, as defined by the local security policy, will be allowed to pass
                - The firewall itself is immune to penetration
            - Traditional Packet Filters
                - Packet filter examines each data fram in isolation, determing whether the datagram should be allowed to pass
                - Filter considerations - source or destination IP, protocol type (UDP, TCP, ICMP, OSPF), source or destination UDP or TCP port, TCP flags, ICMP type
            - Stateful Packet Filters
                - Track TCP connections and use this knowledge to make filtering decisions
            - Application Gateway
                - Application specific server (Telnet, SMTP, HTTP, and FTP), that looks beyond the IP/TCP/UDP headers and make policy decisions based on application data
        - Intrusion Detection Systems and Intrustion Prevention Systems
            - Deep Packet Inspection - deeper than headers
            - Detects - network mapping, port scans, TCP stack scans, DoS attacks, worms and viruses, OS vulnerability and application vulnerability attacks
            - Signature-Based - maintain a database of attack signatures and checks each packet against the signatures in the database
            - Anomaly-Based - creates a traffic profile as it observes traffic and looks for packet streams that are statistically unusual
            - Snort - open source IDS

Chapter 9 - Multimedia Networking
    a. Multimedia Networking Applications
        - Properties of Video
            - High Bit Rate - 100 kbps to 3 Mbps
            - Spatial Redundancy - redundancy within a given image e.g. a lot of white
            - Temporal Redundancy - repetition from image to image
            - Multiple Versions - using compression to trade video quality with bit rate
        - Properties of Audio
            - Conversion
                - Sampled at some rate i.e. 8K samples per second, samples are rounded to one of a finite number of values (quantization), values are represented by a fixed number of bits
            - Pulse Code Modulation - encoding technique described above
            - MPEG 1 layer 3 MP3 - compression technique for near CD-quality stereo music
            - Advanced Audio Coding
        - Types of Multimedia Network Applications
            - Streaming Stored Audio and Video
                - Streaming, Interactivity, Continuous Playout
            - Conversational Voice/Video over IP
                - Internet Telephony or VoIP
                - Highly Delay Sensitive but Loss-Tolerant
            - Streaming Stored Audio and Video
                - Live broadcast through CDNs
    b. Streaming Stored Video
        - UDP Streaming
            - Server transmits video at a rate that matches the client's video consumption rate
            - Video chunks encapsulated within Real-Time Transport Protocol RTP packets then UDP and IP datagrams
            - Separate channel is maintained over which the clients sends commands regarding session state changes
            - Drawbacks - can fail to provide continuous playout, requires media control server, and firewalls could be configured to block UDP traffic
        - HTTP Streaming
            - Video is stored in an HTTP server and delivered when it receives HTTP GET requests
            - Prefetching Video - client attempts to download video at a rate higher than the consumption rate
            - Client Application Buffer and TCP Buffers - Server -> TCP Send Buffer -> TCP Receive Buffer -> TCP Application Buffer
            - Early Termination and Repositioning - HTTP Byte-Range Header in the HTTP Get request message
        - Adaptive HTTP Streaming
            - Dynamic Adaptive Streaming over HTTP DASH - uses multiple versions of the video compressed at a different rate 
        - Client Side Application Buffering
            - Absorb variations in server-to-client delay and covers brief bandwidth loss
    c. Voice-over-IP
        - Limitations of Best Effort IP Service
            - Packet Loss, End-to-End Delay, and Packet Jitter
        - Removing the Jitter at Receiver for Audio
            - Prepending each chunk with a timestamp and delaying playout of chunks at the receiver
            - Fixed Playout Delay - waiting a pre-determined time to guarantee packets have been received
            - Adaptive Playout Delay - estimate the network delay and adjust the playout delay accordingly at the beginning of each spurt
        - Recovering from Packet Loss
            - Forward Error Correction - add redundant information to the original packet stream
                - Redundanct encoded chunk after every n chunks, or lower resolution audio stream in parallel
            - Interleaving - results in mulitple small gaps rather than singular large ones
            - Error Concealment - attempt to produce a replacement for a lost packet that is similar to the original
        - Case Study: Skype
    d. Protocols for Real-Time Conversational Applications
        - Real-Time Transport Protocol RTP
            - Media Chunk -> RTP Packet -> UDP Segment -> IP Datagram
            - RTP Header - payload type, sequence number, timestamp, synchronization source identifier SSRC, miscellaneous
            - RTP Packet - audio chunk plus RTP header
            - Allows each source to be assigned its own independent RTP stream of packets, one-to-many, many-to-many and one-to-one
        - Session Initiation Protocol SIP
            - Provides mechanisms for establishing calls between a caller and callee over an IP network
            - Provides mechanisms for the caller to determine the current IP address of the callee
            - Provides mechanisms for call managements such as adding new media streams, changing encoding, inviting participants, call transfer, and call holding
            - Setting Up A Call with Known Address
                - Alice sends INVITE to Bob over UDP to port 5060 for SIP includes type of media and encoding format
                - Bob sends a SIP response message over UDP to port 5060 for SIP includes encoding format
                - Alice sends Bob an SIP acknowledgement
                - They may both now talk in a two-way fashiom
            - SIP Proxy - handles INVITE requests when name translation needs to occur
            - SIP Registrar - every SIP user has an associated registrar which needs to be informed of the user's current IP address
            - Setting UP a Call with Unknown Address
                - Alice sends INVITE to SIP Proxy
                - SIP Proxy does a DNS lookup on the SIP Registrar and forwards the message to the SIP Registrar Server
                - SIP Registrar knows Bob's IP address and forwards the INVITE to Bob
                - Bob sends SIP response message back through SIP Registrar and SIP Proxy
                - Media is now sent directly between the two clients
    e. Network Support for Multimedia
        - Making the Best of Best-Effort Service
            - Bandwidth Provisioning - providing capacity at network links to achieve a given level of performance
            - Network Dimensioning - how to design a network topology to achieve a given level of end-to-end performance
            - Issues to be Addressed
                - Models of traffic demand between network end points
                - Well-defined performance requirements
                - Models to predict end-to-end performance for a given workload model, 
                and techniques to find a minimum cost bandwidth allocation that will result in all user requirements being met
        - Differentiated Services
            - Insight 1: Packet marking allows a router to distinguish among packets belonging to different classes of traffic
            - Insight 2: It is desirable to provide a degree of traffic isolation among classes so that one class is not adversely affected by another class of traffic that misbehaves
            - Insight 3: While providing isolation among classes or flows, it is desirable to use resources as efficiently as possible
            - Insight 4: If sufficient resource will not always be available and QoS is guaranteed, a call admission process is needed for access to network
            - The Leaky Bucket
                - Policing Criteria: Average Rate, Peak Rate, and Burst Size
            - Diffserv - Differentiated Service field is used in combination with Per-Hop Behavior PHB to provide different externally observable forwarding behaviors
        - Pre-Connection Quality-of-Service Guarantees
            - Goal - guarantee that a call will have the resources needed to meet its desire QoS
            - Resource Reservation - ability to explicitly allocate resources to a call
            - Call Admission - mechanism for calls to request and reserve resources i.e. access to the network
            - Call Setup Protocol - call used to reserve sufficient resources at each and every network router on it's source-to-destination path

Appendix A - A Day in the Life of a Web Page Request (Does not include security, NAT, web caching, or wireless protocols)
    a. Getting Started: DHCP, UDP, IP, and Ethernet (Getting own IP, DNS, and Default Gateway Addresses)
        - Bob's laptop creates a DHCP request message
        - Places this within a UDP segment with destination port 67 (DHCP server) and a source port 68 (DHCP client)
        - UDP segment is placed within an IP datagram with a broadacst IP destination address 255.255.255.255 and a source IP address of 0.0.0.0
        - IP Datagram is placed within an Ethernet frame with destination FF:FF:FF:FF:FF:FF to broadcast to all devices, source MAC is Bob's laptop
        - Switch broadcasts the incoming frame on all outgoing ports
        - Router Receives the Ethernet frame and IP datagram is extracted
        - IP Datagram payload is demutiplexed to UDP
        - DCHP request message is extracted from the UDP segment and the DHCP server now has the DHCP request message
        - DHCP server allocates IP address to Bob's laptop and creates a DHCP ACK message
            - DHCP ACK Message includes new IP address, DNS Server IP address, default gateway router IP address and subnet mask
        - DHCP ACK message is put in a UDP Segment, which is put in a IP datagram, which is put in an Ethernet frame
        - Ethernet frame has a source MAC of the router and a destination MAC of Bob's laptop
        - Ethernet frame is sent by the router to the switch
        - Bob's laptop receives the Ethernet Frame, extracts the IP datagram, extracts the UDP segment, and extracts the DHCP ACK message
        - Bob's DHCP client records its IP and the IP address of the DNS server and stores default gateway into its IP forwarding table
    b. Still Getting Started: DNS and ARP (Getting Access to Gateway Router)
        - Bob's OS creates a DNS query message, putting "www.domain.com" in the question section
        - DNS message is placed within UDP segment with destination port 53 (DNS server), which is placed within IP datagram with IP address of DNS server
        - IP datagram is placed within an Ethernet frame and the frame is sent to Default Gateway Router (MAC address is unknown)
        - Bob's laptop creates an ARP query message with IP address of default gateway, places message within Ethernet frame with broadcast MAC FF:FF:FF:FF:FF:FF
        - Ethernet frame is sent to switch, which is broadcast to all devices including the gateway router
        - Gatway router receives frame and extracts ARP query message, checks IP address, and prepares ARP reply with its own MAC address
        - ARP reply message is placed in ethernet frame and sent back to Bob's laptop
        - Bob's laptop extracts the ARP reply message from the Ethernet frame and saves MAC address of the default gateway router
        - Bob addresses the Ethernet frame containing the DNS query message with MAC address of default gateway router
        - Bob sends Ethernet frame to switch, which delivers the frame to the default gateway router
    c. Still Getting Started: Intra-Domain Routing to the DNS Server (Getting IP Address of Domain)
        - Default gateway router receives frame and extracts IP datagram containing DNS query
        - Using forwarding table, determines datagram should be sent to specific network router
        - IP datagram is placed inside link-layer frame and frame is sent over link
        - This network router receives the frame, extracts the IP datagram, and determines the interface needed to forward datagram to DNS server
        - IP datagram containing DNS query arrives at the DNS server, DNS server extracts the DNS query message, looks up domain, finds DNS resource record with IP address assuming cached
        - DNS server forms a DNS reply message, places the message in a UDP segment, within an IP datagram, within an Ethernet frame that is forwarded back through the network to school's router and via the Ethernet switch to Bob's laptop
        - Bob extracts the IP address and is now ready to connect to the domain
    d. Web Client-Server Interaction: TCP and HTTP (Actually Fetching the Web Page)
        - Bob's creates TCP socket, which starts three-way handskae with TCP in domain
        - Bob's laptop creates a TCP SYN segment with destination poret 80 (for HTTP), places the TCP segment within an IP datagram, within a frame and sends frame to switch
        - Frame, and specifically datagram is forwarded to domain, TCP SYN message is extracted and demultiplexed to the welcome socket associated with port 80
        - A connection socket is created for the TCP connection, a TCP SYNACK segment is generated, placed within a IP datagram, and placed within a link-layer frame appropriate for the link connecting domain.com to its first-hop router
        - The datagram containing the TCP SYNACK is forwarded through network arriving at the Ethernet card in Bob's laptop
        - The datagram is multiplexed within the operating system to the TCP socket initially created, which enters the connected state
        - Bob's browser creates HTTP GET message, which is written into socket, the GET message becoming the payload of a TCP segment, which is placed in an IP datagram and then a frame and sent and delivered to domain
        - HTTP server at domain reads the HTTP GET message from the TCP socket, creates an HTTP response message, and places this into the TCP socket
        - This response message becomes the payload of a TCP segment, which is placed inside an IP datagram, which is placed inside a link-layer frame
        - The datagram containing the HTTP response message is forwarded to Bob's laptop, Bob's browser reads the HTTP response, extracts the html from the body, and finally displays the message
