Title: Computer Networking: A Top-Down Approach
Authors: Jim Kurose and Keith Resources

Summarization of Content

Chapter 1 - Computer Networks and the Internet
    a. What is the Internet?
        - Nuts and Bolts
            - End Systems
            - Communication Links and Packet Switches - Connect End Systems
            - Transmission Rate - Bits/Second
            - Packets - Segments of Data with Header Bytes
            - Routers and Link-Layer Switches - Connect End Systems
            - Route or Path - Sequence of Communication Links and Packet Switches Traversed by a Packet
            - Internet Service Providers - Provide End Systems Access to Internet
            - Transmission Control Protocol and Internet Protocol
            - Internet STandards - Request For Comments RFC
        - A Service Description
            - Internet is infrastructure that provides services to applications
            - Socket Interface - How program on end system asks internet to deliver data to program on another end system
        - What is a Protocol?
            - Defines the format and the order of messages exchanged between two or more communicating entities, as well as the actions
            taken on the transmission and/or receipt of a message or other event
    b. The Network Edge
            - Hosts - Clients or Servers
            - Access Networks
                - Network that physically connectes a end system to the first router on a
                path to any other distance end system
            - Home Access - Digital Subscriber Line DSL
                - Obtained from telephone company
                - Telephone line to Digital Subscriber Line Access Multiplexer DSLAM
                - Telephone Line Frequencies - High-Speed Downstream 50 kHz to 1MHz
                - Telephone Line Frequencies - Medium-Speed Upstream Channel 4kHz to 50 kHz
                - Telephone Line Frequencies - Ordinary Two-Way Channel 0 to 4kHz
            - Home Access - Cable
                - Cabel Modem -> Coaxial Cable -> Fiber Node -> Fiber Cable -> Cable Modem Terination System
            - Home Access - Fiber to the Home
                - Optical Network Terminator -> Customer Fiber -> CO Fiber -> Optical Line Terminator
            - Home Access - Satellite and Dial-Up Access
            - Physical Media
                - Physical Medium - Where bit is sent across by propagating electromagnetic waves or optical pulses
                - Physical Medium - Guided or Unguided
                - Twister-Pair Copper Wire - Shielded vs. Unshielded
                - Coaxial Cable
                - Fiber Optics
                - Terrestrial Radio Channels
                - Satellite Radio Channels - Geostationary and Low-Earth Orbiting
    c. The Network Core
        - Packet Switching
            - Messages broken down into chunkcs of data
            - Packets pass through routers/link-layer switches and communication links
            - Store-And-Forward Transmission - Packet switch must receive entire packet before transmissions
            - Queing Delays - Caused by packets collecting in output buffer
            - Packet Loss - Packets are lost when output buffer is full
            - Forwarding Tables - Maps destination addresses to that router's outbound link
            - Routing Protocols - Used to automatically set the forwarding tables
        - Circuit Switching
            - Resources are reserved for the duration of the communication session between end systems
            - Uses dedicated end-to-end connections
            - Multiplexing - Frequency-Division or Time-Division Multiplexing
                - Link dedicates a frequency band for each connection, width is bandwidth
        - Network of Networks
            - Network Structure 1 - All access ISPs connected with a single global transit ISP
            - Network Structure 2 - 100,000s of access ISPs and multiple global ISPs
            - Network Structure 3 - Access ISPs to Regional ISPs to Tier-1 ISPs
            - Network Structure 4 - Points of Presence PoP, Multi-Homing, Peering, and Internet Exchange Points IXPs
            - Network Structure 5 - Content-Provider Networks  - Like Google
    d. Delay, Loss, and Throughput in Packet-Switched Networks
        - Nodal Processig Delay - Time required to examing packets headers and determing where to direct the packet
        - Queuing Delay - Time till entire packet is in output buffer
        - Transmission Delay - Time required to push all of the packet's bits into the link
        - Propogation Delay - Time required to propagate from beginning of link to router
        - Total Delay = Nodal + Queuing + Transmission + Propogation
        - Traffic Intensity - Bits * Average Rate of Packet Arrival to Queue / Transmission Rate La/R
        - Traceroute
        - Throughput - Average = Bits / Transfer Time, Transmission Rate of the Bottleneck Link
    e. Protocol Layers and Their Service Models
        - Layered Architecture - Protocol Layering
        - Application Layer - Network applications and their application-layer protocols reside
        - Transport Layer - Transports application-layer messages between application endpoints
        - Network Layer - Moving datagrams from one host to another TCP/UDP
        - Link Layer - Routes a datagram through a series of routers between the source and destination
        - Physical Layer - Move bits witin the frame from one node to the next
        - OSI - Physical, Data Link, Network, Transport, Session, Presentation, Application
        - Encapsuation - Up and Down Encapuslation and Decapsulation
    f. Networks Under Attack
        - Malware - Trojans, Worms, Virus, Botnet, DoS, DDoS, Packet Sniffing, IP Spoofing
    g. History of Computer Networking and the Internet
        - Packet Switching 1961 - 1972
        - Proprietary Networks and Internetworking - 1972 - 1980
        - Proliferation of Networks - 1980 - 1990
        - Internet Explosion - 1990s
        - New Millenium - Broadband, High-Speed WiFi, Online Social Networs, Content Provider Networks, Cloud
        
Chapter 2 - Application Layer
    a. Principles of Networking Applications
        - Network Application Architectures
            - Client-to-Server - host called a server that handles requests from a host called a client
                - Google, Amazon, Netflix
            - Peer-to-Peer - direct communication between pairs of intermittenly connected hosts called peers
                - Bitcoin and BitTorrent
        - Processes Communicating
            - Process - a program that is running within an end system
            - IPC - interprocess communication among programs running on same end system
            - Client and Server Processes
                - Browser = Client and Web Server = Server
            - Interface Between the Process and Computer Networks
                - Process -> Socket -> Transport Layer -> Socket -> Another Process
            - Addressing Processes
                - Receiving Process - address of the host and an identifier (port/socket) specifiying the receiving process
                - Internet Protocol - address identifying hosts on the internet
                - Port Number - identifier specifying the port/socket related to the receiving process
        - Transport Services Available to Applications
            - Goal - handle the responsibility of getting messages from sending socket to receiving socket
            - Reliable Data Transfer - guarantees quality data delivery
            - Loss-Tolerant Applications - transport layer protocol does not provide reliable data transfer
            - Throughput - rate at which the sending process can deliver bits to the receiving process
                - Bandwidth-Sensitive Applications - applications that have throughput requirements
                - Elastic Applications - can make use of as much or as little throuhgput as happens to be available
            - Timing Guarantees
            - Security - Encryptiong and Decryption of Data
        - Transport Services Provided by the Internet
            - TCP Services
                - Connection-Oriented Service
                - Reliable Data Transfer Service
            - UDP Services
                - Connectionless Service
                - Unreliable Data Transfer Service
        - Securing TCP
            - Secure Socket Layer SSL
            - Transport Layer Security TSL
        - Examples
            - Electronic Mail - SMTP - TCP
            - Remote Terminal Access - Telnet - TCP
            - Web - HTTP - TCP
            - File Transfer - FTP - TCP
            - Streaming Multimedia - HTTP - TCP
            - Internet Telephony - SIP/RTP - UDP or TCP
        - Application Layer Protocols
            - Goal - defines how an application's processes, running on different end systems, pass messages to each other
            - Defines - type of messages, syntax, semantics, rules
    b. The Web and HTTP
        - Overview of HTTP
            - Hyper Text Transfer Protocol
            - Pull Protocol
        - Vocabulary
            - Web Page - document consisting of objects (files)
            - Web Browsers - implement client side of HTTP
            - Web Servers - implement the server side of HTTP
            - Transport Layer Protocol - TCP
        - Non-Persistent and Persistent Connections
            - HTTP with Non-Persistent Connections
                - TCP Handshake -> HTTP Client TCP Connection to Server -> HTTP Client HTTP Request Message -> 
                HTTP Server HTTP Response Message -> HTTP Client Received Message -> TCP Connections Close
            - HTTP with Persistent Connections
                - TCP connections do not close 
        - HTTP Request Message Format
            - Request Line, Header Lines, Body
        - HTTP Response Message Format
            - Status Line, Header Lines, Body
        - Cookies
            - HTTP Client Request -> HTTP Server Set-Cookie Response -> HTTP Client Request w/ Cookie -> HTTP Server Response -> Repeat HTTP Request w/ Cookie and HTTP Server Response
        - Web Caching
            - Cache or Proxy Server - network entity that satisfies HTTP request on behalf of an origin web server
            - HTTP Client Request -> Proxy Server -> Proxy Server Cache Check + Request -> HTTP Server Response -> Proxy Server Receival -> HTTP Client Receival
            - Content Delivery Networks - Utilize cache systems with servers
        - Conditional Get
            - HTTP mechanism that allows a cache to verify that its objects are up to date
    c. Electronic Mail and the Internet
        - Components - User Agents, Mail Servers, and Simple Main Transfer Protocol SMTP
        - SMTP
            - Alice Agent -> Alice's Mail Server Message Queue -> SMTP to Bob's Mail Server Message Queue -> Bob's Agent
            - Push Protocol 
        - Mail Message Formats
            - Header Lines, and Body
        - Mail Access Protocols
            - Post Office Protocol Version 3 POP3 - Mail Server to User Agent
                - TCP Connection - Authorization, Transaction, and Update
            - Internet Mail Access Protocol IMAP - Mail Server to User Agent
                - TCP Connection - Folders Capability
            - Simple Mail Transfer Protocol - Mail Server to Mail Server
    d. DNS - The Internet Directory Service
        - Domain Name System DNS - Distributed database used to translate hostnames into IP addresses
        - Services Provided By DNS
            - Host Aliasing, Mail Server Aliasing, Load Distribution
        - Process
            - User Client-Side DNS Application -> Hostname to Client-Side DNS Application -> DNS Client Query to DNS Root Server ->
            DNS Client Query to DNS Top-Level Domain Server -> DNS Client Query to Authoritative DNS Server -> Host HTTP Client Request w/ Server Address
        - Overview Hierarchy
            - Root, Top-Level Domain (org, com, net, edu) and Authoritative
            - Local DNS Server - proxy to DNS server hierarchy
        - DNS Caching
            - Cache mapping of hostname to ip address
        - DNS Records and Messages
            - Resource Record - Fourt uple (Name, Value, Type, TTL)
            - Type = A - Name = Hostname, Value = IP Address
            - Type = NS - Name = Domain, Value = Hostname of Authoritative DNS Server
            - Type = CNAME - Name = Domain, Value = Canonical Hostname for Alias
            - Type = MX - Name = DOmain, Value = Canoncail Name of Mail Server for Alias
        - DNS Messages
            - Query and Reply Messages
            - Header (Identification, Number of Question, Number of Authority RRs), Questions, Answers, Authority, Additional Information
        - Inserting Records into the DNS Database
            - Registrar - commercial entity that verifies the uniqueness of the domain name, enters the domain name into the dns database, and collects a small fee
    e. Peer-to-Peer Applications
        - Scalability of P2P
        - BitTorrent
    f. Video Streaming and Content Distribution Networks
        - Internet Video
        - HTTP Streaming and DASH
            - Dynamic Adaptive Streaming over HTTP - multiple versions wirh different bit rates and quality levels
        - Content Distribution Networks CDN
            - Private CDN - owned by the content provider itself such as Google
            - Third-Party CDN - distributes content on behalf of multiple content providers
            - Server Placement Philosophies
                - Enter Deep - server clusetrs in access ISPs all over the world in order to get close to users
                - bring Home - building larger clusters at a small number of sites, usually Internet Exhange Points IXP
            - Examples - Youtube, Netflix, and Kankan
    g. Socket Programming: Creating Network Applications
        - Socket Programming with UDP
            - Client Socket -> Client Socket Send Message -> Server Socket Listenting at Port -> Server Socket Rceive and Send Back Message -> Client Socket Receive Message -> Client Socket Closes
        - Socket Programming with TCP
            - Client Socket -> Client Socket Connect -> Server Socket Listening at Port -> Server Socket Accept Connection -> Client Socket Send Message ->
            Server Connection Socket Receive and Send Back Message -> Server Connection Socket Close -> Client Socket Receive Message -> Client Socket Close

Chapter 3 - Transport Layer
    a. Introduction and Transport Layer Services
        - Relationship Between Transport and Network
            - Logical Communication - as if the hosts running the processes were directly connected
            - Transport Layer Segments -> Network Layer Datagrams
            - Transport - Connection between processes on different hosts
            - Network - Connection between hosts
        - Overview of the Transport Layer in the Internet
            - User Datagram Protocol - connectionless, unreliable
            - Transmission Control Protocol - connection-oriented, reliable, congestion control
            - Network Protocol - Internet Protocol - best-effort, unreliable delivery service
            - Tranport-Layer Multiplexing and Demultiplexing - extending host-to-host delivery to process-to-process delivery
    b. Multiplexing and Demultiplexing
        - Demultiplexing - delivering data in a transport-layer segment to the correct socket
        - Multiplexing - gathering data chunks at source host, encapsulating each data chunk with header information to create segments, and passing segment to the network Layer
        - Segment Fields - source port nunmber field and destination port number field
        - Connectionless - UDP source port number and destination port number
        - Connection-Oriented - TCP source port number, source IP address, destination port number and destination IP address for back and forth transmission
    c. Connectionless Transport: UDP
        - Characteristics
            - Finer application-level control over what data is sent and when
            - No connection establishment
            - No connection state
            - Smal packet header overhead
        - UDP Segment Structure
            - Source Port, Destination Port, Length, Checksum, Application Data
            - Error checking but no recovery
    d. Principles of Reliable Data Transfer
        - Goal - no tranferred data bits are corrupted, or lost, and all are delivered in the order in which they were sent
        - Reliable Data Transfer v1.0
            - Underlying channel is completely reliable
        - RDT with Bit Errors v2.0
            - Positive and Negative Acknowledgements = Automatic Repeat reQuest Protocol
            - Error Detection, Receiver Feedback, Retransmission
            - Stop and Wait Protocol
            - Handling corrupt ACK or NAK - Repeat, checksum, retransmission, sequence number
        - RDT over Lossy Channel with Bit Errors v3.0
            - Add countdown timer for retransmission
        - Pipelined RDT Protocols
            - Goal - sending multiple packets without waiting for acknowledgements
        - Go-Back-N GBN
            - Goal - allowed to transmit multiple packets but is constrained to have no more than some maximum allowable number of unacknowledged packets in the pipeline
            - Sliding-Window protocol - window size is maximum allowable number of packets
            - Events - invocation from above, receipt of an ACK, a timeout
        - Selective Repeat SR
            - Goal - allowed to transmit multiple packets whil reducing unnecessary retransmission by sending only those packets that is suspects were received in error
            - Events - invocation from above, timeout, receipt of an ACK
    e. Connection-Oriented Transport: TCP
        - The TCP Connection
            - Connection-Oriented, Full Duplex Service, Point to Point
            - Three-Way Handshake
            - Send Buffer - edge of socket buffer before network layer
            - Maximum Segment Size - maxmimum amount of daat that can be placed in a segment
            - Process A -> Socket A -> Client TCP Send Buffer -> Segments over Network -> TCP Server Receive Buffer -> Socket B -> Process B
            - Cumulative Acknowledgements - acknowledge bytes up to the first missing byte
        - TCP Segment Structure
            - Source Port, Destination Port, Sequence Nu,ber, Receive Window, header Length Field, Options Field, Flag Field, SYN, FIN, CWR, ECE, URG, ACK, PSH, RST, Checksum, Urgent Data Pointer
        - Round Trip Time Estimation and Timeout
            - Estimated Round Trip Time EstimatedRTT
            - Sample Round Trip Time SampleRTT
        - Reliable Data Transfer
            - Single Transmission Timer
            - Doubling the Timeout Interval - doubles timeout interval each time TCP retransmits
            - Fast Retransmit - retransmitting the missing segment before the segment's timer expires after receiving three duplicate ACKs
            - Flow Control - eliminate overflowing the receiver's buffer by matching the rate at which the sender is sending against the rate at whcih the receiving application is reading
        - TCP Connection Management
            - Connecting - Client SYN -> Server SYNACK -> Client SYNACK
            - Closing - Client FIN -> Server ACK -> Server FIN -> Client ACK
            - TCP Client States - CLOSED, SYN_SENT, ESTABLISHED, FIN_WAIT_1, FIN_WAIT_2, TIME_WAIT
            - TCP Servere States - LISTEN, SYN_RCVD, ESTABLISHED, CLOSE_WAIT, LAST_ACK
    f. Principles of Congestion Control
        - Causes and Cost of Congestion
            - Large queuing delays as the packet arrival rate nears the link capacity
            - Sender must performa retransmissions in order to compensate for dropped packets due to buffer overflow
            - When a packet is dropped, the transmission capacity that was used at each of the upstream links to forward that packet ends up being wasted
        - Approaches to Congestion Control
            - End-To-End
            - Netrwork-Assisted Congestion Control
    g. TCP Congestion Control
        - Senders rate is congestion window / RTT bytes/sec
        - Adjust congestion window to adjust the rate at whcih data is sent into the connection
        - How do TCP senders detemine their sending rates such that they dont congest the network but at the same time make use of all the available bandwidth?
            - A lost segment implies congestion, and hence, the TCP sender's rate should be decreased
            - An ACK indicates that the netork is delivering the sender's segments to the receiver, and hence, the sender's rate can be increased
            - Bandwidth probing cycle of checking
        - TCP Congestion-Control Algorithm
            - Slow-Start - congestion widnow increased by 1 MSS every time a transmitted segment is first ACK
            - Congestion-Avoidance - when cwnd equals slow start threshold, cwnd is havled and increases only by one
            - Fast-Recovery - value o cwnd is increased by 1 MSS for every duplicate ACK received for the missing segment that caused TCP to enter fast-Recovery
            - Retrospective
                - Additive-Increase, Multiplicative Decrease AIMD
            - Fairness - average transmission rate of each connection is R Transmission Rate / K Connections
            - Explicit Congestion Notification ECN: Network-Assisted Congestion Control
                - Network explicilty signlas congestion to TCP sender and receiver
                - Two Bits, Four Values, in the Type of Service field of the IP datagram header

Chapter 4 - Network Layer: Data Plane
    a. Overview of Network Layer
        - Forwarding and Routing: The Data and Control Planes
            - Forwarding - moving packets from the input link to the appropriate output link
            - Routing - the network layer determing the route or path taken by packets
            - Routing Algorithm - algorithm that calculates routing paths
            - Forwarding Table - used with packet's header values to indicate output link
        - Control Plane: The Traditional Approach
            - Routing algorithm runs in each and every router and both forwarding and routing are contained within the router
        - Control Plane: The SDN Approach
            - Software Defined Networking - network is software defining because the controller that computes forwarding tables and interacts with routers is implemented in software
        - Network Service Model
            - Guaranteed Delivery, Guaranteed Deliver with Boudned Delay, In-Order Packet Delivery, Guaranteed Minimal Bandwidth, Security
            - Internet's Network Layer - Best-Effort Service
    b. What's Inside a Router?
        - Architecture
            - Input Port - terminates incoming physical link, lookup function
            - Switching Fabric - connects the router's input ports with output ports
            - Output Ports - stores packets received from switching fabric and transmits these packets on the outgoing link
            - Routing Processor - performs control plane funtions
        - Forwarding
            - Destination Based Forwarding and Generalized Forwarding
        - Input Processing and Destination-Based Forwarding
            - Line termination -> Data link processing protocol and decapsulation -> Lookup, forwarding and queuing -> Switching fabric
        - Switching
            - Memory - copy from input port to processor memory to output port
            - Bus - transfer a packet from input to output directly over a shared bus
            - Interconnection Network - non-blocking cross-bar switch forwarding mulitple packets in parallel
        - Output Processing
            - Queuing buffer -> Data link processing protocl and encapsulation -> Line termination
        - Where does Queuing Occur?
            - Input Queuing - switch fabric is not fast enough to tranafer all arriving packets without delay
                - Head-of-the-Line Blokcing - a queued packet in an input queue must wait for tranfer through fabric, even though its output port is free, because it is blocked by another packet
            - Output Queuing - output port transmits packets slower than switching fabric provides them
                - Drop-Tail - output port drops packet or removes alreay-queued packets
                - Active Queue Management AQM and Random Early Detection RED
        - Packet Scheduling
            - First-In-First-Out FIFO, Priority Queuing, Round Robin and Weighted Fair Queuing
    c. The Internet Protocol: IPv4. Addressing, and IPv6
        - IPv4 Datagram Format
            - Version Number, Header Length, Type of Service TOS, Datagram Length, Identifier, Flags, Fragmentation Offset, Time-to-Live TTL, Protocol, Header Checksum, Source and Destination IP Addresses, Options, Data
        - IPv4 Datagram Fragmentation
            - Link-layer frames have different Maxmimum Transmission Units MTUs
            - Fragmentation - converting large datagrams into smaller datagrams
        - IPv4 Addressing
            - Interface - boundary between host and the physical link
            - Dotted-Decimal Notation - xxx.xxx.xxx.xxx
            - Subnet - multiple interfaces interconnected to a single router
            - Subnet Mask - value indicating number of bits that define the subnet address xxx.xxx.xxx.xxx/mask
            - Classless Interdomain Routing - internet's address asigment strategy
            - Classful Addressing - Class A, B, and C
            - Address Aggregration - Using a single prefix to advertise multiple networks
        - Dynamic Host Configuration Protocol
            - Goal - Dynamic allocation of ip addresses automatically
            - Process - Host Sends DHCP Discover Message -> DHCP Server Sends DHCP Offer Message -> Host Sends DHCP Request Message -> DHCP Server Sends ACK Message
        - Network Address Translation NAT
            - Private LAN Addresses, Single NAT Enabled Router IP, NAT Translation LAN to WAN and WAN to LAN with IPs and Ports
        - IPv6
            - Goal - deal with dwindling number of available IPv4 addresses
        - IPv6 Datagram Format
            - Version, Traffic Class, Flow Label, Payload Length, Next HRD, Hop Limit, Source Address, Destination Address, Data
            - Missing Fields - Fragmentation, Header Checksum, Options
        - Transitioning from IPv4 to IPv6
            - IPv6 enabled router places IPv6 datagram as payload for IPv4 datagram, IPv6 destintion router extracts IPv6 and then routes datagram
    d. Generalized Forwarding and SDN
        - Packet switches that use match-plus-action table
        - Match
            - OpenFlow can match on Source and Destination Mac, Eth Type, VLAN, Source and Destination IP, Source and Destination TCP/UDP Port
        - Action
            - Forwarding, Dropping, or Modify Field
        - Examples - Forwarding, Load Balancing, and Firewalling

Chapter 5 - The Network Layer: Control Plane
    a. Introduction
        - Control Plane - network-wide logic that controls not only how a datagram is forwarded among routers along an end-to-end path from the source host to the destination host,
        but also how network-layer components and services are configured and managed
        - Methods for Computing Forwarding and Flow Tables
            - Per-Router Control - algorithm runs in each and every router
            - Logically Centralized Control - through SDN controller and network applications 
    b. Routing Algorithms
        - Goal - determine good paths from senders to receivers, through the network of routes
        - Graph - used to formulate routing problems, G = (nodes N, edges E)
        - Path - sequence of nodes connected by edges leading from sender to receiver
        - Least-Cost Path - find a path between between the source and destination that has the least cost
        - Shortest Path - not always the least cost path, it is when all edges have the same cost 
        - Centralized Routing Algorithm - computes the least cost path between source and destination using complete global knowledge of the network
        - Decentralized Routing Algorithm - calculation of least cost path is iterative, occuring at each router
        - Static Routing Algorithms - routes change very slowly over time, often as a resutl of human intervention
        - Dynamic Routing Algorithms - routes change as the network traffic load or topology changes
        - Load Sensitive Algorithm - links cost vary dynamically to reflect the current level of congestion in the underlying link
        - Load Insensitive Algorithm - links cost does not explicitly reflect its current or past level of congestion
        - Link-State Routing Algorithm
            - Network topology and all links costs are known
            - Link-State Broadcast - each node broadcasts link-state packets to all other nodes
        - Distance-Vector Routing Algorithm
            - Iterative, asynchronous, and distributed
            - Each node receives some information from one or more of its directly attached neighbors
    c. Intra-AS Routing in the Internet: OSPF
        - Autonomous System AS - groups of routers under the same administrative control
        - Intra-Autonomous System Routing Protocol - algorithm running within an AS
        - Open Shortest Path First OSPF
            - Flooding of linkpstate information and Dijkstra's least-cost path Algorithm
            - Each router calculate shortest path to all subnets and broadcasts
            - Security - exchanges between OSPF routers can be authenticated
            - Multiple Same-Cost Paths - allowing multiple paths
            - Integrated Support for Unicat and Multicast Routing
            - Support for Hierarchy
    d. Routing Among the ISPs: BGP
        - Inter-Autonomous Syste Routing Protocol - coordinate routing between multiple AS
        - Border Gateway Protocol - all ASs run the same inter-AS routing protocol
        - Obtain Prefix reachability Information from Neighboring AS
        - Determing the Best Routes to the Prefixes
        - Advertising BGP Route Information
            - Gateway Router - router on the edge of an AS that directly connects to one or more router in other ASs
            - Internal Router - only connects to hosts and routers within its own AS
        - External BGP Connection - spans two ASs
        - Internal BGP Connection - a BGP sessions betwen routers in the same AS
        - Determining the Best Routes
            - BGP Attributes - prefix with Attributes
            - AS-PATH - list of ASs through which the advertisement has passed
            - NEXT-HOP - IP address of the router interace that begins the AS-PATH
        - Hot Potato Routing - route chosen is the route with the least cost to te NEXT-HOP router
        - Route-Selection Algorithm
            - Route assigned a local preference value as one of its attributes, routes with highest local preference values are selected
            - From remaining routes, route with the shortest AS-PATh is selected
            - From remaining routes, hot potato routing is used
            - If more than one route still remains, router uses BGP identifiers
        - IP-Anycast
            - Used in DNS
            - CDN copnay assigns the asme IP address to each of its servers
            - Use BGP to advertise this IP addres from each of the servers
            - BGP router treats each route advertisements as providing different routes to the same location
    e. The SDN Control Plane
        - Characteristics
            - Flow Based Forwarding - packet forwarding can be based on any number of header fields
            - Separation of Data Plane and Control Plane
            - Network Control Functions External to Data Plane Switches
            - Programmable Network
        - Structure
            - SDN-Controlled Switches -> SDN Controller -> Network-Control Applications
        - SDN Control Plane: SDN Controller and SDN Network-Control Applications
            - Communication Layer -> Network-Wide State Management Layer -> Interface to the Network-Control Application Layer
        - OpenFlow Protocol
            - Operates between a SDN controller and an SDN controlled switch
            - Messages from Controller to Controlled Switch
                - Configuration, Modify-State, Read-State, Send-Packet
            - Messages from Controlled Switch to Controller
                - Flow-Remvoed, Port-Status, Packet-In
        - Data and Control Plane Interaction: An Example
            - Switch1, experiencing link failure, notifies SDN Controller with Port-Status message
            - SDN Controller notifies the link-state manager, which updates a link-state database
            - Network Control Application with Link-State Routing is notified
            - Link-State Routing Application interacts with Link-State Manager to get updated Link-State
            - Link-State Routing Application interacts with Flow Table Manager
            - Flow Table Manager uses OpenFlow protocol to update Flow Table Entries of affected switches
    f. ICMP: The Internet Control Message Protocol
        - Goal - used by hosts and routers to communicate network-layer information to each other e.g. error reporting
        - ICMP messages are carried inside IP datagrams e.g. as IP payloads like TCP or UDP segemnts
        - Ping and Traceroute
        - Message Types
            - 1 - 0 - echo reply
            - 3 - 0 - destination network unreachable
            - 3 - 1 - destination host unreachable
            - 3 - 2 - destination protocol unreachable
            - 3 - 3 - destination port unreachable
            - 3 - 6 - destination network unknown
            - 3 - 7 - destintation host unknown
            - 4 - 0 - source quench
            - 8 - 0 - echo request
            - 9 - 0 - router advertisement
            - 10 - 0 - router discovery
            - 11 - 0 - TTL expired
            - 12 - 0 - IP header bad
    g. Network Management and SNMP
        - Saydam on "What is network management?"
            - Network management includes the deployment integration, and coordination of the hardware, software,
            and human elements to monitor, test, poll, configure, analyze, evaluate, and control the network and 
            element resources to meet the real-time operation performance and quality of service requirements at 
            a reasonable cost
        - The Network Management Framework
            - Managing Server - application running in a centralized network management station, locus for network management
            - Managed Device - piece of network equipment tha resides on a managed network, composed of managed objects
            - Management Information Base - information on managed object
            - Network Management Agent - process running in the managed device that communicates with the managing server
            - Network Management Protocol - runs between server and devie, allowing server to query status and indirectly take actions
        - The Simple Network Management Protocol
            - Application-Layer Potocol used to convey network-management control and information messages between a managing server and an agent
            - Request-Response Format - SNMP server sends request to SNMP agent -> agent performs some action -> SNMP agent sends a reply to the request
            - Message Types
                - GetRequest, GetNextRequest, GetBulkRequest, InformRequest, SetRequest, Response, SNMPv2 Trap
                
Chapter 6 - The Link Layer and LANS
    a. Introduction to the Link Layer
        - Vocabulary
            - Node - any device that runs a link layer protocol
            - Links - communicataion channles that connect adjacent nodes along the communication path
            - Link-Layer Frame - datagrame encapsulated to be sent over a given link
        - Services Provided by the Link Layer
            - Framing - encapsulation of network-layer datagram within a link-layer frame before transmission
            - Link Access - medium access control protocol specificies the rules by which a frame is transmitted onto the link
            - Reliable Delivery - guarantees to move each network-layer datagram across the link without error
        - Where is the Link Layer Implemented?
            - Network Adapter or Network Interface Card - where the link layer is implemented
            - Link-Layer Controller - a special purpose chip that implements many of the link-layer services
    b. Error-Detection and Correction Techniques
        - Parity Checks
            - Parity Bit - added bit that makes total number of 1s in the d + 1 bits even or odd 
            - Two-Dimensional Parity - d bits are divided into rows and columns and a parity for each row and column is calculated
            - Forward Error Correction - receiver detects and corrects errors
        - Checksumming Methods
            - Goal - d bits of data are treated as a sequence of k-bit integers
            - Internet Checksum - bytes of data are treated as 16-bit integers and summed, then 1s complement of this sum is checksum
        - Cyclic Redundancy Check
            - Generator G - r + 1 bit pattern
            - Goal - sender will choose r additional bits and append them to D such that d + r is divisble by G
            - Error Checking - receiver divides the d + r received bits by G, and the remainder should be zero if no error
    c. Multiple Access Links and protocols
        - Vocabulary
            - Point-to-Point Link - consists of a single sender at one end and a single reciever at the other end of the link
            - Broadcast Link - can have multiple sending and receiving nodes all connected to the same broadcast channel
            - Multiple Access Problem - how top coordinate the access of multiple sending and receiving nodes
            - Collision - more than two nodes transmit frames at the same time
            - Categories - channel partitioning, random access, taking-turns
        - Channel Partitioning Protocols
            - Time Division Multiplexing - divides time into time frames and further divides each frame into time slots
            - Frequency Division Multiplexing - divides the R bps channel into different frequencies and assigns each frequency to one of the nodes
            - Code Division Multiple Access CDMA - assigns a different code to each node
        - Random Access Protocols
            - Random Wait - if a collision occurs, each node waits a random delay before retransmitting the frame
            - Slotted ALOHA - if a collision occurs, node tosses a coin and heads/tails is retransmit or wait
            - ALOHA - node will immediately retransmit the frame with probability p, otherwise the node waits for a frame transmission time
            - Carrier Sensning Multiple Access
                - Listen Before Speaking and Stop Talking if Another is Speaking
                - Channel Propogation Delay - time it takes for a singal to propagate from one of the nodes to another
                - Binary Exponential Backoff - value for wait is determined by random value between 0...2^n-1
        - Taking-Turns Protocols
            - Polling - master node polls each of the nodes in a RR
            - Token Passing - nodes pass permission token, and while holding token, may transmit
        - Data-Over-Cable Service Interface Specifications DOCSIS
            - Frequency Division Multiplexing to divide the downstream and upstream network segments into multiple frequency channels
            - Time Division Multiplexing to divide upstream channel into intervals of time
            - Random Access for cable modems sending mini-slot request frames
            - Binary Exponential Backoff when collisions occur
    d. Switched Local Area Networks
        - Link-Layer Addressing and Address Resolution Protocol
            - Mac Address, LAN Address, Physical Address
                - Each adapter has a specific MAC Address
            - Address Resolution Protocol
                - Translate IP address with MAC Addresses
                - ARP Module in sending host takes IP Address and returns MAC Address only within same subnet
                - Each Host and Router has an ARP Table, which contains mapping of IP Addresses to MAC Addresses
                - If value is not on table, host passes ARP query packet to adapter with FF-FF-FF-FF-FF-FF which hits all adapters and corresponding ARP modules
        - Ethernet
            - Hub - physical-layer device that acts on individual bits rather than frames
            - Switch - collision-less, store-and-forward packet switch
            - Ethernet Frame Structure
                - Data Field, Destination Address, Source Address, Type Field, Cyclic Redundancy Check, Preamble
            - Ethernet Technologies
                - 10BASE-T, 10BASE-2, 100BASE-T, 1000BASE-LX, 10GBASE-T, 40GBASE-T
                - Speed - Baseboard, physical media
                - Repeater - physical-layer device that receives a signal on the input side and regenerates the signal on the output side
        - Link-Layer Switches
            - Forwarding and Filtering
                - Filtering - switch function that determines whether a frame should be forwarded to some interface or just dropped
                - Forwarding - a switch function that determines the interfaces to which a frame should be directed and then moves the frame to those interfaces
                - Switch Table - contains entries for hosts and routers on the LAN
            - Self-Learning
                - Switch Table is initially empty
                - For each frame, swtich stores MAC address, interface from which the frame arrived, and current time
                - Switch deletes an address in the table if no frames are received after the aging time
            - Properties of Link-Layer Switching
                - Elimination of Collisions, Heterogenous Links, Management
        - Virtual Local Area Networks
            - Allows multiple virtual local area noetworks to be defined over a single physical local area network infrastructure
            - VLAN Trunking - spceical port on each switch is configured as a strunk port to interconnect the two VLAN switches
            - VLAN Tag - identity of the VLAN to which the frame belongs
    e. Link Virtualization: A Network as a Link Layer
        - Link as a channel rather than a wire
        - Multiprotocol Label Switching
            - Headers - PPP or Ethernet Header, MPLS Header, IP Header, Remainder of Link-Layer Frame
            - Label Switched Router
            - Traffic Engineering - forward packets along routes that would not be possible using standard IP routing protocols
            - Virtual Private Networks - isolate both the resources and addressing used by the customers VPN from that of other users crossing the ISPs network
    f. Data Center Networking
        - Hosts/Blades - servers serving content
        - Top of Rack Switch - interconnects the hosts in the rack with each other and with other switches in the data center
        - Border Routers - handle flows between external clients and internal hosts
        - Load Balancing - distribute requests to the hosts, balancing the load across the hsots as a function of their current load
        - Hierarchial Structure - Internet - Border Router - Access Routers - Load Balancers/Tier-1 Switches - Tier-2 Switches - TOR Switches - Server
        - Trendes in Data Center Networking - Fully Connected Topology

Appendix A - A Day in the Life of a Web Page Request (Does not include security, NAT, web caching, or wireless protocols)
    a. Getting Started: DHCP, UDP, IP, and Ethernet (Getting own IP, DNS, and Default Gateway Addresses)
        - Bob's laptop creates a DHCP request message
        - Places this within a UDP segment with destination port 67 (DHCP server) and a source port 68 (DHCP client)
        - UDP segment is placed within an IP datagram with a broadacst IP destination address 255.255.255.255 and a source IP address of 0.0.0.0
        - IP Datagrame is placed within an Ethernet frame with destination FF:FF:FF:FF:FF:FF to broadcast to all devices, source MAC is Bob's laptop
        - Switch broadcasts the incoming frame on all outgoing ports
        - Router Receives the Ethernet frame and IP datagram is extracted
        - IP Datagram payload is demutiplexed to UDP
        - DCHP request message is extracted from the UDP segment and the DHCP server now has the DHCP request message
        - DHCP server allocates IP address to Bob's laptop and creates a DHCP ACK message is created
            - DHCP ACK Message includes new IP address, DNS Server IP address, default gateway router IP address and subnet mask
        - DHCP ACK message is put in a UDP Segment, which is put in a IP datagram, which is put in an Ethernet frame
        - Ethernet frame has a source MAC of the router and a destination MAC of Bob's laptop
        - Ethernet frame is sent by the router to the switch
        - Bob's laptop receives the Ethernet Frame, extracts the IP datagrame, extracts the UDP segment, and extracts the DHCP Ack message
        - Bob's DHCP client records its IP and the IP address of the DNS server and stores default gateway into its IP forwarding table
    b. Still Getting Started: DNS and ARP (Getting Access to Gateway Router)
        - Bob's OS creates a DNS query message, putting "www.domain.com" in the question section
        - DNS message is placed within UDP segment with destination port 53 (DNS server), which is placed within IP datagram with IP address of DNS server
        - IP datagram is placed within Ethernet frame and the frame is sent to Default Gateway Router (MAC address is unknown)
        - Bob's laptop creates An ARP query message within IP address of default gateway, places message within Ethernet frame with broadcast MAC FF:FF:FF:FF:FF:FF
        - Ethernet frame is sent to switch, which is broadcast to all devices including the gateway router
        - Gatway router receives frame and extracts ARP query message, checks IP address, and prepares ARP reply with its own MAC address
        - ARP reply message is placed in ethernet frame and sent back to Bob's laptop
        - Bob's laptop extracts the ARP reply message from the Ethernet frame and saves MAC address of the default gateway router
        - Bob addresses the Ethernet frame containing the DNS query message with MAC address of default gateway router
        - Bob sends Ethernet frame to switch, which devlivers the frame to the default gateway router
    c. Still Getting Started: Intra-Domain Routing to the DNS Server (Getting IP Address of Domain)
        - Default gateway router receives frame and extracts IP datagram containing DNS query
        - Using forwarding table, determins datagram should be sent to specific network router
        - IP datagram is placed inside link-layer frame and frame is sent over link
        - This network router receives the frame, extracts the IP datagram, and determines the interface needed to forward datagram to DNS server
        - IP datagram containing DNS query arrices at the DNS server, DNS server extracts the DNS query message, looks up domain, finds DNS resource record with IP address assuming cached
        - DNS server forsm a DNS reply message, places the message in a UDP segment, within an IP datagram that is forwarded back through the network to school's router and via the Ethernet switch to Bob's laptop
        - Bob extracts the IP address and is now ready to connect to the domain
    d. Web Client-Server Interaction: TCP and HTTP (Actually Fetching the Web Page)
        - Bob's creates TCP socket, which starts three-way handskae with TCP in domain
        - Bob's laptop creates a TCP SYN segment with destination poret 80 (for HTTP), places the TCP segment within an IP datagram, within a frame and sends frame to switch
        - Frame, and specifically datagram is forwarded to domain, TCP SYN message is extracted and demultiplexed to the welcome socket associated with port 80
        - A connection socket is created for the TCP connection, a TCP SYNACK segment is generated, placed within a IP datagrame, and placed within a link-layer frame appropriate for the link connecting google.com to its first-hop router
        - The datagram containing the TCP SYNACK is forwarded throughnetwork arriving at the Ethernet card in Bob's laptop
        - The datagram is multiplexed within the operating system to the TCP socket initially created, which enters the connected state
        - Bob's browser creates HTTP GET message, which is written into socket, the GET message becoming the payload of a TCP segment, which is placed in an IP datagram and then a frame and sent and delivered to domain
        - HTTP server at domain reads the HTTP GET message from the TCP socket, creates an HTTP response message, and places this into the TCP socket
        - This response messaeg becomes the payload of a TCP segment, which is placed inside an IP datagram, which is placed inside a link-layer frame
        - The datagram containing the HTTP response message is forwarded to Bob's laptop, Bob's browser reads the HTTP response, extracts the html from the body, and finally displays the message
